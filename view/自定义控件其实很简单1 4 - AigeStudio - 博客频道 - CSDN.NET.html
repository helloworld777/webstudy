<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0056)http://blog.csdn.net/aigestudio/article/details/41447349 -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/acom"></script>   
    
     
    <script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/tracking.js" charset="utf-8"></script>  

    <script type="text/javascript">
        var protocol = window.location.protocol;
        document.write('<script type="text/javascript" src="' + protocol + '//csdnimg.cn/pubfooter/js/repoAddr2.js?v=' + Math.random() + '"></' + 'script>');
    </script><script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/repoAddr2.js"></script>

  
 <meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" media="handheld" href="http://blog.csdn.net/aigestudio/article/details/41447349#">

    <title>自定义控件其实很简单1/4 - AigeStudio
        - 博客频道 - CSDN.NET</title>
    
    <meta name="description" content="最近在研究VMware的快照的相关知识，在这里做个记录和分享。先简单介绍下快照。A snapshot preserves the state and data of a virtual machine at a special point in time.1) 快照保存了虚拟机在特定时间点的power state；2) 还有就是数据。比如内存信息，所以当你做了个me">
    <script src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ad.js"></script>
        <!--new top-->
       
        <link rel="stylesheet" href="http://c.csdnimg.cn/public/common/toolbar/css/index.css">
        <!--new top-->

    <link rel="Stylesheet" type="text/css" href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/style.css">
    <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://blog.csdn.net/aigestudio/rss/list">
    <link rel="shortcut icon" href="http://c.csdnimg.cn/public/favicon.ico">
    <link type="text/css" rel="stylesheet" href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/blue_green.css">
 


<script src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/share.js"></script><link rel="stylesheet" type="text/css" href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/job_reco.css"><script type="text/javascript" charset="utf-8" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/main.js"></script><link rel="stylesheet" type="text/css" href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/style(1).css"><link type="text/css" rel="stylesheet" href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/style(2).css"><script src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/logger.js"></script><link href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/bdsstyle.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="http://bdimg.share.baidu.com/static/api/css/share_style0_16.css?v=6aba13f0.css"><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style></head>
<body><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="http://pos.baidu.com/wh/o.htm?ltr=" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div><div id="MathJax_Message" style="display: none;"></div><iframe frameborder="0" style="display: none;"></iframe>
    
   
      <!--new top-->
    <script id="toolbar-tpl-scriptId" fixed="true" prod="blog" skin="black" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/html.js" type="text/javascript"></script><div class="csdn-toolbar csdn-toolbar-skin-black ">        <div class="container row center-block ">          <div class="col-md-3 pull-left logo clearfix"><a href="http://www.csdn.net/?ref=toolbar" title="CSDN首页" target="_blank" class="icon"></a><a title="频道首页" href="http://blog.csdn.net/?ref=toolbar_logo" class="img blog-icon"></a></div>          <div class="pull-right login-wrap unlogin">            <ul class="btns">              <li class="loginlink"><a href="https://passport.csdn.net/account/login?ref=toolbar" target="_top">登录&nbsp;</a>|<a target="_top" href="http://passport.csdn.net/account/mobileregister?ref=toolbar&action=mobileRegister">&nbsp;注册</a></li>              <li class="search">                <div class="icon on-search-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <form action="http://so.csdn.net/search" method="get" target="_blank">                      <input type="hidden" value="toolbar" name="ref" accesskey="2">                      <div class="border">                        <input placeholder="搜索" type="text" value="" name="q" accesskey="2"><span class="icon-enter-sm"></span>                      </div>                    </form>                  </div>                </div>              </li>              <li class="favor">                <div class="icon on-favor-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div style="display:none;" class="favor-success"><span class="msg">收藏成功</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <div style="display:none;" class="favor-failed"><span class="icon-danger-lg"></span><span class="msg">收藏失败，请重新收藏</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <form role="form" class="form-horizontal favor-form">                      <div class="form-group">                        <div class="clearfix">                          <label for="input-title" class="col-sm-2 control-label">标题</label>                          <div class="col-sm-10">                            <input id="inputTitle" type="text" placeholder="" class="title form-control">                          </div>                        </div>                        <div class="alert alert-danger"><strong></strong>标题不能为空</div>                      </div>                      <div class="form-group">                        <label for="input-url" class="col-sm-2 control-label">网址</label>                        <div class="col-sm-10">                          <input id="input-url" type="text" placeholder="" class="url form-control">                        </div>                      </div>                      <div class="form-group">                        <label for="input-tag" class="col-sm-2 tag control-label">标签</label>                        <div class="col-sm-10">                          <input id="input-tag" type="text" class="form-control tag">                        </div>                      </div>                      <div class="form-group">                        <label for="input-description" class="description col-sm-2 control-label">摘要</label>                        <div class="col-sm-10">                          <textarea id="input-description" class="form-control description"></textarea>                        </div>                      </div>                      <div class="form-group">                        <div class="col-sm-offset-2 col-sm-10 ft">                          <div class="col-sm-4 pull-left">                            <div class="checkbox">                              <label>                                <input type="checkbox" name="share" checked="checked" class="share">公开                              </label>                            </div>                          </div>                          <div class="col-sm-8 pull-right favor-btns">                            <button type="button" class="cancel btn btn-default">取消</button>                            <button type="submit" class="submit btn btn-primary">收藏</button>                          </div>                        </div>                      </div>                    </form>                  </div>                </div>              </li>              <li class="notify">                <div style="display:none" class="number"></div>                <div style="display:none" class="icon-hasnotes-sm"></div>                <div id="header_notice_num"></div>                <div class="icon on-notify-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div id="note1" class="csdn_note">                      <div class="box"></div>                    <iframe src="about:block" frameborder="0" allowtransparency="true" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent"></iframe></div>                  </div>                </div>              </li>              <li class="ugc">                <div class="icon on-ugc-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <dl>                      <dt><a href="http://geek.csdn.net/news/expert?ref=toolbar" target="_blank" class="p-news clearfix" style="display:none;"><em class="icon"></em><span>分享资讯</span></a></dt>                      <dt><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-doc clearfix"><em class="icon"></em><span>传PPT/文档</span></a></dt>                      <dt><a href="http://bbs.csdn.net/topics/new?ref=toolbar" target="_blank" class="p-ask clearfix"><em class="icon"></em><span>提问题</span></a></dt>                      <dt><a href="http://write.blog.csdn.net/postedit?ref=toolbar" target="_blank" class="p-blog clearfix"><em class="icon"></em><span>写博客</span></a></dt>                      <dt><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-src clearfix"><em class="icon"></em><span>传资源</span></a></dt>                      <dt><a href="https://code.csdn.net/projects/new?ref=toolbar" target="_blank" class="c-obj clearfix"><em class="icon"></em><span>创建项目</span></a></dt>                      <dt><a href="https://code.csdn.net/snippets/new?ref=toolbar" target="_blank" class="c-code clearfix"><em class="icon"></em><span>创建代码片</span></a></dt>                    </dl>                  </div>                </div>              </li>              <li class="profile">                <div class="icon on-profile-icon"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/100x100.jpg" class="curr-icon-img">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div class="bd">                      <dl class="clearfix">                        <dt class="pull-left img"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="avatar"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/100x100.jpg"></a></dt>                        <dd class="info" style="border: none;"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="nickname"></a><a class="set-nick" href="https://passport.csdn.net/account/profile">设置昵称<span class="write-icon"></span></a><span class="dec"><a class="fill-dec" href="http://my.csdn.net/" target="_blank">编辑自我介绍，让更多人了解你<span class="write-icon"></span></a></span></dd>                      </dl>                    </div>                    <div class="ft clearfix"><a target="_blank" href="http://my.csdn.net/my/account/changepwd?ref=toolbar" class="pull-left"><span class="icon-cog"></span>帐号设置</a><a href="https://passport.csdn.net/account/logout?ref=toolbar" target="_top" class="pull-left" style="margin-left:132px; width:18px; height:27px; white-space:nowrap; overflow:hidden;"><span class="icon-signout"></span><span class="out">退出</span></a></div>                  </div>                </div>              </li>              <li class="apps">                <div id="chasnew123" class="hasnew" style="display: none;"></div>                <div id="cappsarea123" class="icon on-apps-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>社区</h5>                      </dt>                      <dd> <a href="http://blog.csdn.net/?ref=toolbar" target="_blank">博客</a></dd>                      <dd> <a href="http://bbs.csdn.net/?ref=toolbar" target="_blank">论坛</a></dd>                      <dd> <a href="http://download.csdn.net/?ref=toolbar" target="_blank">下载</a></dd>                      <dd><a href="http://ask.csdn.net/?ref=toolbar" target="_blank">技术问答</a></dd>                      <dd><a href="http://geek.csdn.net/?ref=toolbar" target="_blank">极客头条</a></dd>                      <dd style="display:none"> <a href="http://hero.csdn.net/?ref=toolbar" target="_blank">英雄会</a></dd>                    </dl>                  </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>服务</h5>                      </dt>                      <dd style="display:none"> <a href="http://job.csdn.net/?ref=toolbar" target="_blank">JOB<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/new.gif" style="display: none; margin-top: -26px; width: 23px;"></a></dd>                      <dd> <a href="http://edu.csdn.net/?ref=toolbar" target="_blank">学院<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/new.gif" style="display: none; margin-top: -26px; width: 23px;"></a></dd>                      <dd> <a href="https://code.csdn.net/?ref=toolbar" target="_blank">CODE</a></dd>                      <dd> <a href="http://huiyi.csdn.net/?ref=toolbar" target="_blank">活动</a></dd>                      <dd> <a href="http://www.csto.com/?ref=toolbar" target="_blank">CSTO</a></dd>                      <dd> <a href="http://mall.csdn.net/?ref=toolbar" target="_blank">C币兑换<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/new.gif" style="display: none; margin-top: -26px; width: 23px;"></a></dd>                    </dl>                  </div>                  <div class="detail last">                    <dl>                      <dt>                        <h5>俱乐部</h5>                      </dt>                      <dd> <a href="http://cto.csdn.net/?ref=toolbar" target="_blank">CTO俱乐部</a></dd>                      <dd> <a href="http://student.csdn.net/?ref=toolbar" target="_blank">高校俱乐部</a></dd>                    </dl>                  </div>                </div>              </div>            </li>            </ul>          </div>        </div>    </div>
     <!--new top-->
    <div id="container">
        <div id="header">
    <div class="header">
        <div id="blog_title">
            <h2>
                <a href="http://blog.csdn.net/aigestudio">AigeStudio</a></h2>
            <h3>你所浪费的今天,是昨天死去的人奢望的明天;你所厌恶的现在,是未来的你回不去的曾经;当我们能够再续前缘,又为何认定来世并非今生.</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg">
    </div>
    <div class="navigator">
        <ul>
            
                <li id="btnContents"><a href="http://blog.csdn.net/aigestudio?viewmode=contents"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_mulu&#39;])">
                    <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ico_list.gif">目录视图</span></a></li>
                <li id="btnView"><a href="http://blog.csdn.net/aigestudio?viewmode=list"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_zhaiyao&#39;])">
                    <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ico_summary.gif">摘要视图</span></a></li>
                <li id="btnRss"><a href="http://blog.csdn.net/aigestudio/rss/list"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_RSS&#39;])">
                    <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ico_rss.gif">订阅</span></a></li>                

            </ul>
    </div>
</div>
<script type="text/javascript">
    var username = "aigestudio";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/aigestudio";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";  
</script>

        <div id="body">
            <div id="main">
                <div class="main">
                        <div class="ad_class">
<div class="notice tracking-ad" data-mod="popu_3"> 

<a href="http://huiyi.csdn.net/activity/product/goods_list?project_id=2741" target="_blank">
<font color="red">2016软考项目经理实战班
</font></a>
&nbsp;&nbsp;&nbsp;

<a href="http://edu.csdn.net/yearPromotion" target="_blank">
<font color="blue">学院周年礼-顶尖课程钜惠呈现
</font></a>
&nbsp;&nbsp;&nbsp;
<a href="http://huiyi.csdn.net/activity/product/goods_list?project_id=2755" target="_blank">
<font color="red">微信公众平台应用开发</font>
&nbsp;&nbsp;&nbsp;
</a><a href="http://vote.blog.csdn.net/blogstar2015/result" target="_blank">
<font color="blue">CSDN 2015博客之星评选结果公布
</font></a>

</div>                        </div>
                        

<!--AdForward Begin:-->
<script type="text/javascript" ads-src="http://csdnim.qtmojo.com/main/s?user=csdn|blog|fumeiti&amp;db=csdnim&amp;border=0&amp;local=yes&amp;js=ie" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/AllyesDeliver.min.js" charset="gbk" id="allyes_ins_baa5366a" ads-outputs="0" ads-tid="440a58b_0"></script><div id="440a58b_0" style="padding:0;margin:0;border:0;"><script type="text/javascript" data-belong="allyes" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/s"></script><script type="text/javascript" data-belong="allyes" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/delay.min.js"></script><script type="text/javascript" data-belong="allyes" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/delay.min.js"></script></div>
<!--AdForward End-->

  
<link href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/comment1.css" type="text/css" rel="stylesheet">
<link href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/style1.css" type="text/css" rel="stylesheet">
<script language="JavaScript" type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/jquery.cookie.js"></script>
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/main(1).js"></script>
<link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0">
<link rel="stylesheet" href="http://static.blog.csdn.net/css/category.css?v=1.0">
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/MathJax.js"></script>

  <script type="text/ecmascript">
      window.quickReplyflag = true;
           
            var isBole = false;
            
          
    </script>
<div id="article_details" class="details">
    <div class="article_title">   
         <span class="ico ico_type_Original"></span>


    <h1>
        <span class="link_title"><a href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET.html">
        自定义控件其实很简单1/4            
        </a></span>
    </h1>
</div>

   

        <div class="article_manage clearfix">
        <div class="article_l">
            <span class="link_categories">
            标签：
              <a href="http://www.csdn.net/tag/Android%e8%87%aa%e5%ae%9a%e4%b9%89View" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">Android自定义View</a><a href="http://www.csdn.net/tag/Android%e8%87%aa%e5%ae%9a%e4%b9%89%e6%8e%a7%e4%bb%b6" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">Android自定义控件</a><a href="http://www.csdn.net/tag/Custom%20View" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">Custom View</a><a href="http://www.csdn.net/tag/android" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);">android</a>
            </span>
        </div>
        <div class="article_r">
            <span class="link_postdate">2014-11-24 16:45</span>
            <span class="link_view" title="阅读次数">15518人阅读</span>
            <span class="link_comments" title="评论次数"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#comments" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_pinglun&#39;])">评论</a>(38)</span>
            <span class="link_collect"> <a href="javascript:void(0);" onclick="javascript:collectArticle(&#39;自定义控件其实很简单1/4&#39;,&#39;41447349&#39;);return false;" title="收藏">收藏</a></span>
             <span class="link_report"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" onclick="javascript:report(41447349,2);return false;" title="举报">举报</a></span>

        </div>
    </div>
      <div class="category clearfix">
        <div class="category_l">
           <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/category_icon.jpg">
            <span>分类：</span>
        </div>
        <div class="category_r">
                    <label onclick="GetCategoryArticles(&#39;2397181&#39;,&#39;aigestudio&#39;,&#39;top&#39;,&#39;41447349&#39;);">
                        <span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_fenlei&#39;]);">Custom My Love<em>（21）</em></span>
                      <img class="arrow-down" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/arrow_triangle _down.jpg" style="display:inline;">
                      <img class="arrow-up" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/arrow_triangle_up.jpg" style="display:none;">
                        <div class="subItem">
                            <div class="subItem_t"><a href="http://blog.csdn.net/aigestudio/article/category/2397181">作者同类文章</a><i class="J_close">X</i></div>
                            <ul class="subItem_l" id="top_2397181">                            
                            </ul>
                        </div>
                    </label>                    
        </div>
    </div>
    <script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/category.js"></script>  
        <div class="bog_copyright">         
            <p class="copyright_p">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>

  

  
  
     

<div style="clear:both"></div><div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;"><p style="text-align:right;margin:0;"><span style="float:left;">目录<a href="http://blog.csdn.net/aigestudio/article/details/41447349#" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" onclick="javascript:return openct(this);" title="展开">[+]</a></p><ol style="display:none;margin-left:14px;padding-left:14px;line-height:160%;"><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t0">FontMetrics</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t1">ascent</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t2">descent</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t4">getFontMetrics PaintFontMetrics metrics</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t5">getFontMetricsInt</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t6">getFontMetricsIntPaintFontMetricsInt fmi</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t7">getFontSpacing</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t8">setUnderlineTextboolean underlineText</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t9">setTypefaceTypeface typeface</a></li><ol><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t10">defaultFromStyleint style</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t11">createString familyName int style和createTypeface family int style</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t12">createFromAssetAssetManager mgr String pathcreateFromFileString path和createFromFileFile path</a></li></ol><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t13">setTextSkewXfloat skewX</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t14">setTextSize float textSize</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t15">setTextScaleX float scaleX</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t16">setTextLocale Locale locale</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t17">setTextAlign PaintAlign align</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t18">setSubpixelText boolean subpixelText</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t19">setStrikeThruText boolean strikeThruText</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t20">setLinearText boolean linearText</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t21">setFakeBoldText boolean fakeBoldText</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t23">setDitherboolean dither</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t24">setMaskFilterMaskFilter maskfilter</a></li><ol><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t25">BlurMaskFilter</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t26">EmbossMaskFilter</a></li></ol><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t27">setRasterizer Rasterizer rasterizer</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t28">setPathEffectPathEffect effect</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t29">setStrokeCapPaintCap cap</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t30">setStrokeJoinPaintJoin join</a></li><li><a href="http://blog.csdn.net/aigestudio/article/details/41447349#t31">setShadowLayerfloat radius float dx float dy int shadowColor</a></li></ol></div><div style="clear:both"></div><div id="article_content" class="article_content">

<p></p>
<p style="font-size:13.3333339691162px; text-align:center"><span style="font-family:KaiTi_GB2312; font-size:18px; color:#990000"><strong>尊重原创转载请注明：From AigeStudio（http://blog.csdn.net/aigestudio）Power by Aige 侵权必究！</strong></span></p>
<p style="font-size:13.3333339691162px; text-align:center"><strong>炮兵</strong><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20150113161037843" alt=""><strong>镇楼</strong></p>
<p>上一回关羽操刀怒砍秦桧子龙拼命相救，岂料刘备这狗贼耍赖以张飞为祭品特殊召唤黑暗大法师消灭了场上所有逗逼，霎时间血流成河，鲜红的血液与冰冷的大地融合交汇在一起焕发出血液的煞气……那么，问题来了，请问这是使用了哪种PorterDuffXfermode？</p>
<p>在上一节的最后一个Example中我们做了一个橡皮擦的View，但是这个View虽然在效果上没有什么问题，但是逻辑确实有问题的！你们发现了么？哥故意挖了个坑让你们往里面跳哦！！！<br>
</p>
<p>在对Xfermode和ColorFilter有了深情的了解后我们不能只爱上这俩二货，前方必定还有更多的好货色在等着我们开发……^_^~!今天我们继续向前看看Paint的其他一些“另类”的属性。<br>
</p>
<p>笔对于我们来说第一印象一定是能写字对吧，而Android给我们的这支Paint当然也不例外，它也定义了大量关于“写字”的功能，这些方法总数接近Paint的一半！可见Android对Paint写字功能的重视，在讲Paint提供的“写字”方法前我先给大家说一个Android中和字体相关的很重要的类<br>
</p>
<h4><a name="t0"></a>FontMetrics</h4>
<p>FontMetrics意为字体测量，这么一说大家是不是瞬间感受到了这玩意的重要性？那这东西有什么用呢？我们通过源码追踪进去可以看到FontMetrics其实是Paint的一个内部类，而它里面呢就定义了top,ascent,descent,bottom,leading五个成员变量其他什么也没有：</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124164644890" alt=""><br>
</p>
<p>这五个成员变量除了top和bottom我们较熟悉外其余三个都很陌生是做什么用的呢？首先我给大家看张图：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124164714390" alt=""><br>
</p>
<p>这张图很简单但是也很扼要的说明了top,ascent,descent,bottom,leading这五个参数。首先我们要知道Baseline基线，在Android中，文字的绘制都是从Baseline处开始的，Baseline往上至字符最高处的距离我们称之为ascent（上坡度），Baseline往下至字符最底处的距离我们称之为descent（下坡度），而leading（行间距）则表示上一行字符的descent到该行字符的ascent之间的距离，top和bottom文档描述地很模糊，其实这里我们可以借鉴一下TextView对文本的绘制，TextView在绘制文本的时候总会在文本的最外层留出一些内边距，为什么要这样做？因为TextView在绘制文本的时候考虑到了类似读音符号，可能大家很久没写过拼音了已经忘了什么叫读音符号了吧……下图中的A上面的符号就是一个拉丁文的类似读音符号的东西：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124164740174" alt=""><br>
</p>
<p>然而根据世界范围内已入案的使用语言中能够标注在字符上方或者下方的除了类似的符号肯定是数不胜数的……哥不是语言专家我母鸡啊……而top的意思其实就是除了Baseline到字符顶端的距离外还应该包含这些符号的高度，bottom的意思也是一样，一般情况下我们极少使用到类似的符号所以往往会忽略掉这些符号的存在，但是Android依然会在绘制文本的时候在文本外层留出一定的边距，这就是为什么top和bottom总会比ascent和descent大一点的原因。而在TextView中我们可以通过xml设置其属性android:includeFontPadding="false"去掉一定的边距值但是不能完全去掉。下面我们在Canvas上绘制一段文本并尝试打印文本的top,ascent,descent,bottom和leading：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 2150px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;FontView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;String&nbsp;TEXT&nbsp;=&nbsp;</span><span class="string">"ap爱哥ξτβбпшㄎㄊěǔぬも┰┠№＠↓"</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;mPaint;</span><span class="comment">//&nbsp;画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;FontMetrics&nbsp;mFontMetrics;</span><span class="comment">//&nbsp;文本测量对象</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;FontView(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>(context,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;FontView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPaint();&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化画笔</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initPaint()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setTextSize(<span class="number">50</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setColor(Color.BLACK);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mFontMetrics&nbsp;=&nbsp;mPaint.getFontMetrics();&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(<span class="string">"Aige"</span><span>,&nbsp;</span><span class="string">"ascent："</span><span>&nbsp;+&nbsp;mFontMetrics.ascent);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(<span class="string">"Aige"</span><span>,&nbsp;</span><span class="string">"top："</span><span>&nbsp;+&nbsp;mFontMetrics.top);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(<span class="string">"Aige"</span><span>,&nbsp;</span><span class="string">"leading："</span><span>&nbsp;+&nbsp;mFontMetrics.leading);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(<span class="string">"Aige"</span><span>,&nbsp;</span><span class="string">"descent："</span><span>&nbsp;+&nbsp;mFontMetrics.descent);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(<span class="string">"Aige"</span><span>,&nbsp;</span><span class="string">"bottom："</span><span>&nbsp;+&nbsp;mFontMetrics.bottom);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawText(TEXT,&nbsp;<span class="number">0</span><span>,&nbsp;Math.abs(mFontMetrics.top),&nbsp;mPaint);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class FontView extends View {
	private static final String TEXT = "ap爱哥ξτβбпшㄎㄊěǔぬも┰┠№＠↓";
	private Paint mPaint;// 画笔
	private FontMetrics mFontMetrics;// 文本测量对象

	public FontView(Context context) {
		this(context, null);
	}

	public FontView(Context context, AttributeSet attrs) {
		super(context, attrs);

		// 初始化画笔
		initPaint();
	}

	/**
	 * 初始化画笔
	 */
	private void initPaint() {
		// 实例化画笔
		mPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
		mPaint.setTextSize(50);
		mPaint.setColor(Color.BLACK);

		mFontMetrics = mPaint.getFontMetrics();

		Log.d("Aige", "ascent：" + mFontMetrics.ascent);
		Log.d("Aige", "top：" + mFontMetrics.top);
		Log.d("Aige", "leading：" + mFontMetrics.leading);
		Log.d("Aige", "descent：" + mFontMetrics.descent);
		Log.d("Aige", "bottom：" + mFontMetrics.bottom);
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);
		canvas.drawText(TEXT, 0, Math.abs(mFontMetrics.top), mPaint);
	}
}</pre>logcat输出如下：<br>
<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124164830983" alt=""><br>
<p></p>
<p>注：Baseline上方的值为负，下方的值为正<br>
</p>
<p>如图我们得到了top,ascent,descent,bottom和leading的值，因为只有一行文本所以leading恒为0，那么此时的显示效果是如何的呢？上面我们说到Android中文本的绘制是从Baseline开始的，在屏幕上的体现便是Y轴坐标，所以在<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 3142px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_2" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_2" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=2&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>canvas.drawText(TEXT,&nbsp;</span><span class="number">0</span><span>,&nbsp;Math.abs(mFontMetrics.top),&nbsp;mPaint);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">canvas.drawText(TEXT, 0, Math.abs(mFontMetrics.top), mPaint);</pre>中我们将文本绘制的起点Y坐标向下移动Math.abs(mFontMetrics.top)个单位（注：mFontMetrics.top是负数），相当于把文本的Baseline向下移动Math.abs(mFontMetrics.top)个单位，此时文本的顶部刚好会和屏幕顶部重合：<br>
<p></p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124164940887" alt=""><br>
</p>
<p>从代码中我们可以看到一个很特别的现象，在我们绘制文本之前我们便可以获取文本的FontMetrics属性值，也就是说我们FontMetrics的这些值跟我们要绘制什么文本是无关的，而仅与绘制文本Paint的size和typeface有关我们来分别更改这两个值看看：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 3421px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_3" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_3" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=3&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>mPaint.setTextSize(</span><span class="number">70</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">mPaint.setTextSize(70);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124165022414" alt=""><br>
<p></p>
<p>如图所示所有值都改变了，我们再为Paint设置一个typeface：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 3641px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_4" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_4" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=4&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>mPaint.setTypeface(Typeface.SERIF);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">mPaint.setTypeface(Typeface.SERIF);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124165050953" alt=""><br>
同样所有的值也改变了，那么我们知道这样的一个东西有什么用呢？如上所说文本的绘制是从Baseline开始，并且Baseline并非文本的分割线，当我们想让文本绘制的时候居中屏幕或其他的东西时就需要计算Baseline的Y轴坐标，比如我们让我们的文本居中画布：<br>
<p></p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 3879px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_5" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_5" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=5&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;FontView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;String&nbsp;TEXT&nbsp;=&nbsp;</span><span class="string">"ap爱哥ξτβбпшㄎㄊ"</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;textPaint,&nbsp;linePaint;</span><span class="comment">//&nbsp;文本的画笔和中心线的画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;baseX,&nbsp;baseY;</span><span class="comment">//&nbsp;Baseline绘制的XY坐标</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;FontView(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>(context,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;FontView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPaint();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化画笔</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initPaint()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textPaint.setTextSize(<span class="number">70</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textPaint.setColor(Color.BLACK);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;linePaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;linePaint.setStyle(Paint.Style.STROKE);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;linePaint.setStrokeWidth(<span class="number">1</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;linePaint.setColor(Color.RED);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;计算Baseline绘制的起点X轴坐标</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baseX&nbsp;=&nbsp;(<span class="keyword">int</span><span>)&nbsp;(canvas.getWidth()&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;textPaint.measureText(TEXT)&nbsp;/&nbsp;</span><span class="number">2</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;计算Baseline绘制的Y坐标</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baseY&nbsp;=&nbsp;(<span class="keyword">int</span><span>)&nbsp;((canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>)&nbsp;-&nbsp;((textPaint.descent()&nbsp;+&nbsp;textPaint.ascent())&nbsp;/&nbsp;</span><span class="number">2</span><span>));&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawText(TEXT,&nbsp;baseX,&nbsp;baseY,&nbsp;textPaint);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;为了便于理解我们在画布中心处绘制一条中线</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawLine(<span class="number">0</span><span>,&nbsp;canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>,&nbsp;canvas.getWidth(),&nbsp;canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>,&nbsp;linePaint);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class FontView extends View {
	private static final String TEXT = "ap爱哥ξτβбпшㄎㄊ";
	private Paint textPaint, linePaint;// 文本的画笔和中心线的画笔

	private int baseX, baseY;// Baseline绘制的XY坐标

	public FontView(Context context) {
		this(context, null);
	}

	public FontView(Context context, AttributeSet attrs) {
		super(context, attrs);

		// 初始化画笔
		initPaint();
	}

	/**
	 * 初始化画笔
	 */
	private void initPaint() {
		// 实例化画笔
		textPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
		textPaint.setTextSize(70);
		textPaint.setColor(Color.BLACK);

		linePaint = new Paint(Paint.ANTI_ALIAS_FLAG);
		linePaint.setStyle(Paint.Style.STROKE);
		linePaint.setStrokeWidth(1);
		linePaint.setColor(Color.RED);
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);

		// 计算Baseline绘制的起点X轴坐标
		baseX = (int) (canvas.getWidth() / 2 - textPaint.measureText(TEXT) / 2);

		// 计算Baseline绘制的Y坐标
		baseY = (int) ((canvas.getHeight() / 2) - ((textPaint.descent() + textPaint.ascent()) / 2));

		canvas.drawText(TEXT, baseX, baseY, textPaint);

		// 为了便于理解我们在画布中心处绘制一条中线
		canvas.drawLine(0, canvas.getHeight() / 2, canvas.getWidth(), canvas.getHeight() / 2, linePaint);
	}
}</pre>效果如图：<br>
<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124165125500" alt=""><br>
<p></p>
<p>Baseline绘制的起点x坐标为画布宽度的一半（中点x坐标）减去文本宽度的一半（这里我们的画布大小与屏幕大小一样），这个很好理解，而y坐标为画布高度的一半（中点y坐标）减去ascent和descent绝对值之差的一半，这一点很多朋友可能不是很好理解，其实很简单，如果直接以画布的中心为Baseline：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 5453px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_6" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_6" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=6&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>baseY&nbsp;=&nbsp;canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">baseY = canvas.getHeight() / 2;</pre>那么画出来的效果必定是如下的样子<br>
<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124165401515" alt=""><br>
<p></p>
<p>也就是说Baseline和屏幕中线重合，而这样子绘制出来的文本必定不在屏幕中心，因为ascent的距离大于descent的距离（大多数情况下我们没有考虑top和bottom），那么我们就需要将Baseline往下移使绘制出来的文本能在中心<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124165417631" alt=""><br>
</p>
<p>那么该下移多少呢？这是一个问题，很多童鞋的第一反应是下移ascent的一半高度，但是你要考虑到已经在中线下方的descent的高度，所以我们应该先在ascent的高度中减去descent的高度再除以二再让屏幕的中点Y坐标（也就是高度的一半）加上这个偏移值<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 6665px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_7" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_7" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=7&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>baseY&nbsp;=&nbsp;(</span><span class="keyword">int</span><span>)&nbsp;((canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>)&nbsp;+&nbsp;((Math.abs(textPaint.ascent()-Math.abs(textPaint.descent())))&nbsp;/&nbsp;</span><span class="number">2</span><span>));&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">baseY = (int) ((canvas.getHeight() / 2) + ((Math.abs(textPaint.ascent()-Math.abs(textPaint.descent()))) / 2));</pre>这个公式跟我们上面代码中的是一样的，不信大家可以自己算算这里就不多说了。这里我们的需求是让文本绘制在某个区域的中心，实际情况中有很多不同的需求不如靠近某个区域离某个区域需要多少距离等等，熟练地去学会计算文本测绘中的各个值就显得很有必要了！<br>
<p></p>
<p>Paint有一个唯一的子类TextPaint就是专门为文本绘制量身定做的“笔”，而这支笔就如API所描述的那样能够在绘制时为文本添加一些额外的信息，这些信息包括：baselineShift,bgColor,density,drawableState,linkColor，这些属性都很简单大家顾名思义或者自己去尝试下即可这里就不多说了，那么这支笔有何用呢？最常用的用法是在绘制文本时能够实现换行绘制！在正常情况下Android绘制文本是不能识别换行符之类的标识符的，这时候如果我们想实现换行绘制就得另辟途径使用StaticLayout结合TextPaint实现换行，StaticLayout是android.text.Layout的一个子类，很明显它也是为文本处理量身定做的，其内部实现了文本绘制换行的处理，该类不是本系列重点我们不再多说直接Look一下它是如何实现换行的：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 6957px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_8" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_8" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=8&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;StaticLayoutView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;String&nbsp;TEXT&nbsp;=&nbsp;</span><span class="string">"This&nbsp;is&nbsp;used&nbsp;by&nbsp;widgets&nbsp;to&nbsp;control&nbsp;text&nbsp;layout.&nbsp;You&nbsp;should&nbsp;not&nbsp;need&nbsp;to&nbsp;use&nbsp;this&nbsp;class&nbsp;directly&nbsp;unless&nbsp;you&nbsp;are&nbsp;implementing&nbsp;your&nbsp;own&nbsp;widget&nbsp;or&nbsp;custom&nbsp;display&nbsp;object,&nbsp;or&nbsp;would&nbsp;be&nbsp;tempted&nbsp;to&nbsp;call&nbsp;Canvas.drawText()&nbsp;directly."</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;TextPaint&nbsp;mTextPaint;</span><span class="comment">//&nbsp;文本的画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;StaticLayout&nbsp;mStaticLayout;</span><span class="comment">//&nbsp;文本布局</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;StaticLayoutView(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>(context,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;StaticLayoutView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPaint();&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化画笔</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initPaint()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mTextPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;TextPaint(Paint.ANTI_ALIAS_FLAG);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mTextPaint.setTextSize(<span class="number">50</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mTextPaint.setColor(Color.BLACK);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mStaticLayout&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;StaticLayout(TEXT,&nbsp;mTextPaint,&nbsp;canvas.getWidth(),&nbsp;Alignment.ALIGN_NORMAL,&nbsp;</span><span class="number">1</span><span>.0F,&nbsp;</span><span class="number">0</span><span>.0F,&nbsp;</span><span class="keyword">false</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mStaticLayout.draw(canvas);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.restore();&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class StaticLayoutView extends View {
	private static final String TEXT = "This is used by widgets to control text layout. You should not need to use this class directly unless you are implementing your own widget or custom display object, or would be tempted to call Canvas.drawText() directly.";
	private TextPaint mTextPaint;// 文本的画笔
	private StaticLayout mStaticLayout;// 文本布局

	public StaticLayoutView(Context context) {
		this(context, null);
	}

	public StaticLayoutView(Context context, AttributeSet attrs) {
		super(context, attrs);

		// 初始化画笔
		initPaint();
	}

	/**
	 * 初始化画笔
	 */
	private void initPaint() {
		// 实例化画笔
		mTextPaint = new TextPaint(Paint.ANTI_ALIAS_FLAG);
		mTextPaint.setTextSize(50);
		mTextPaint.setColor(Color.BLACK);
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);
		mStaticLayout = new StaticLayout(TEXT, mTextPaint, canvas.getWidth(), Alignment.ALIGN_NORMAL, 1.0F, 0.0F, false);
		mStaticLayout.draw(canvas);
		canvas.restore();
	}
}</pre>运行效果如下：<br>
<p></p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124165533312" alt=""><br>
</p>
<p>好了，对Paint绘制文本的一个简单了解就先到这，我们来看看Paint中到底提供了哪些实用的方法来绘制文本<br>
</p>
<h4><a name="t1"></a>ascent()</h4>
<p>顾名思义就是返回上坡度的值，我们已经用过了<br>
</p>
<h4><a name="t2"></a>descent()</h4>
<p>同上，不多说了<br>
</p>
<h4>breakText (CharSequence text, int start, int end, boolean measureForwards, float maxWidth, float[] measuredWidth)</h4>
<p>这个方法让我们设置一个最大宽度在不超过这个宽度的范围内返回实际测量值否则停止测量，参数很多但是都很好理解，text表示我们的字符串，start表示从第几个字符串开始测量，end表示从测量到第几个字符串为止，measureForwards表示向前还是向后测量，maxWidth表示一个给定的最大宽度在这个宽度内能测量出几个字符，measuredWidth为一个可选项，可以为空，不为空时返回真实的测量值。同样的方法还有breakText (String text, boolean measureForwards,
 float maxWidth, float[] measuredWidth)和breakText (char[] text, int index, int count, float maxWidth, float[] measuredWidth)。这些方法在一些结合文本处理的应用里比较常用，比如文本阅读器的翻页效果，我们需要在翻页的时候动态折断或生成一行字符串，这就派上用场了~~~<br>
</p>
<h4><a name="t4"></a>getFontMetrics (Paint.FontMetrics metrics)</h4>
<p>这个和我们之前用到的getFontMetrics()相比多了个参数，getFontMetrics()返回的是FontMetrics对象而getFontMetrics(Paint.FontMetrics metrics)返回的是文本的行间距，如果metrics的值不为空则返回FontMetrics对象的值。<br>
</p>
<h4><a name="t5"></a>getFontMetricsInt()</h4>
<p>该方法返回了一个FontMetricsInt对象，FontMetricsInt和FontMetrics是一样的，只不过FontMetricsInt返回的是int而FontMetrics返回的是float<br>
</p>
<h4><a name="t6"></a>getFontMetricsInt(Paint.FontMetricsInt fmi)</h4>
<p>不扯了<br>
</p>
<h4><a name="t7"></a>getFontSpacing()</h4>
<p>返回字符行间距<br>
</p>
<h4><a name="t8"></a>setUnderlineText(boolean underlineText)</h4>
<p>设置下划线<br>
</p>
<h4><a name="t9"></a>setTypeface(Typeface typeface)</h4>
<p>设置字体类型，上面我们也使用过，Android中字体有四种样式：BOLD（加粗）,BOLD_ITALIC（加粗并倾斜）,ITALIC（倾斜）,NORMAL（正常）；而其为我们提供的字体有五种：DEFAULT,DEFAULT_BOLD,MONOSPACE,SANS_SERIF和SERIF，这些什么类型啊、字体啊之类的都很简单大家自己去试试就知道就不多说了。但是系统给我们的字体有限我们可不可以使用自己的字体呢？答案是肯定的！Typeface这个类中给我们提供了多个方法去个性化我们的字体<br>
</p>
<h5><a name="t10"></a>defaultFromStyle(int style)</h5>
<p>最简单的，简而言之就是把上面所说的四种Style封装成Typeface<br>
</p>
<h5><a name="t11"></a>create(String familyName, int style)和create(Typeface family, int style)</h5>
<p>两者大概意思都一样，比如<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 9130px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_9" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_9" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=9&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>textPaint.setTypeface(Typeface.create(</span><span class="string">"SERIF"</span><span>,&nbsp;Typeface.NORMAL));&nbsp;&nbsp;</span></span></li><li class=""><span>textPaint.setTypeface(Typeface.create(Typeface.SERIF,&nbsp;Typeface.NORMAL));&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">textPaint.setTypeface(Typeface.create("SERIF", Typeface.NORMAL));
textPaint.setTypeface(Typeface.create(Typeface.SERIF, Typeface.NORMAL));</pre>两者效果是一样的<br>
<h5><a name="t12"></a>createFromAsset(AssetManager mgr, String path)、createFromFile(String path)和createFromFile(File path)</h5>
<p></p>
<p>这三者也是一样的，它们都允许我们使用自己的字体比如我们从asset目录读取一个字体文件：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 9350px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_10" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_10" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=10&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="comment">//&nbsp;获取字体并设置画笔字体</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>Typeface&nbsp;typeface&nbsp;=&nbsp;Typeface.createFromAsset(context.getAssets(),&nbsp;<span class="string">"kt.ttf"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>textPaint.setTypeface(typeface);&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">// 获取字体并设置画笔字体
Typeface typeface = Typeface.createFromAsset(context.getAssets(), "kt.ttf");
textPaint.setTypeface(typeface);</pre>我们将会得到如下效果：
<p></p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124165840554" alt=""><br>
这里我用了一个卡通的字体，而另外两个方法也类似的我就不讲了。<br>
</p>
<p>说到文本大家第一时间想到的应该是TextView，其实在TextView里我们依然可以找到上面很多方法的影子，比如我们可以从TextView中获取到TextPaint：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 9721px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_11" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_11" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=11&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>TextPaint&nbsp;paint&nbsp;=&nbsp;mTextView.getPaint();&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">TextPaint paint = mTextView.getPaint();</pre>当然也可以设置TextView的字体等等：<br>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 9831px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_12" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_12" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=12&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>Typeface&nbsp;typeface&nbsp;=&nbsp;Typeface.createFromAsset(getAssets(),&nbsp;</span><span class="string">"kt.ttf"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>mTextView.setTypeface(typeface);&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">Typeface typeface = Typeface.createFromAsset(getAssets(), "kt.ttf");
mTextView.setTypeface(typeface);</pre>更多的雷同点还是留给大家去发掘，下面继续来看<br>
<h4><a name="t13"></a>setTextSkewX(float skewX)</h4>
<p></p>
<p>这个方法可以设置文本在水平方向上的倾斜，效果类似下图：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 10011px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_13" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_13" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=13&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="comment">//&nbsp;设置画笔文本倾斜</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>textPaint.setTextSkewX(-<span class="number">0</span><span>.25F);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">// 设置画笔文本倾斜
textPaint.setTextSkewX(-0.25F);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170008897" alt=""><br>
这个倾斜值没有具体的范围，但是官方推崇的值为-0.25可以得到比较好的倾斜文本效果，值为负右倾值为正左倾，默认值为0<br>
<p></p>
<h4><a name="t14"></a>setTextSize (float textSize)</h4>
<p>不说了但是要注意该值必需大于零<br>
</p>
<h4><a name="t15"></a>setTextScaleX (float scaleX)</h4>
<p>将文本沿X轴水平缩放，默认值为1，当值大于1会沿X轴水平放大文本，当值小于1会沿X轴水平缩放文本</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 10374px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_14" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_14" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=14&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="comment">//&nbsp;设置画笔文本倾斜</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>textPaint.setTextScaleX(<span class="number">0</span><span>.5F);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">// 设置画笔文本倾斜
textPaint.setTextScaleX(0.5F);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170108848" alt=""><br>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 10599px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_15" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_15" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=15&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="comment">//&nbsp;设置画笔文本倾斜</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>textPaint.setTextScaleX(<span class="number">1</span><span>.5F);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">// 设置画笔文本倾斜
textPaint.setTextScaleX(1.5F);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170132123" alt=""><br>
大家注意哦！setTextScaleX不仅放大了文本宽度同时还拉伸了字符！这是亮点~~<br>
<p></p>
<h4><a name="t16"></a>setTextLocale (Locale locale)</h4>
<p>设置地理位置，这个不讲，我们会在屏幕适配系列详解什么是Locale，这里如果你要使用，直接传入Locale.getDefault()即可<br>
</p>
<h4><a name="t17"></a>setTextAlign (Paint.Align align)</h4>
<p>设置文本的对其方式，可供选的方式有三种：CENTER,LEFT和RIGHT，其实从这三者的名字上看我们就知道其意思，但是问题是这玩意怎么用的？好像没什么用啊……我们的文本大小是通过size和typeface确定的（其实还有其他的因素但这里影响不大忽略~~），一旦baseline确定，对不对齐好像不相干吧……但是，你要知道一点，文本的绘制是从baseline开始没错，但是是从哪边开始绘制的呢？左端还是右端呢？而这个Align就是为我们定义在baseline绘制文本究竟该从何处开始，上面我们在进行对文本的水平居中时是用Canvas宽度的一半减去文本宽度的一半：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 11018px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_16" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_16" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=16&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;计算Baseline绘制的起点X轴坐标</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;baseX&nbsp;=&nbsp;(<span class="keyword">int</span><span>)&nbsp;(canvas.getWidth()&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;textPaint.measureText(TEXT)&nbsp;/&nbsp;</span><span class="number">2</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;计算Baseline绘制的Y坐标</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;baseY&nbsp;=&nbsp;(<span class="keyword">int</span><span>)&nbsp;((canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>)&nbsp;-&nbsp;((textPaint.descent()&nbsp;+&nbsp;textPaint.ascent())&nbsp;/&nbsp;</span><span class="number">2</span><span>));&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawText(TEXT,&nbsp;baseX,&nbsp;baseY,&nbsp;textPaint);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;为了便于理解我们在画布中心处绘制一条中线</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawLine(<span class="number">0</span><span>,&nbsp;canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>,&nbsp;canvas.getWidth(),&nbsp;canvas.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>,&nbsp;linePaint);&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">@Override
protected void onDraw(Canvas canvas) {
	super.onDraw(canvas);

	// 计算Baseline绘制的起点X轴坐标
	baseX = (int) (canvas.getWidth() / 2 - textPaint.measureText(TEXT) / 2);

	// 计算Baseline绘制的Y坐标
	baseY = (int) ((canvas.getHeight() / 2) - ((textPaint.descent() + textPaint.ascent()) / 2));

	canvas.drawText(TEXT, baseX, baseY, textPaint);

	// 为了便于理解我们在画布中心处绘制一条中线
	canvas.drawLine(0, canvas.getHeight() / 2, canvas.getWidth(), canvas.getHeight() / 2, linePaint);
}</pre>实际上我们大可不必这样计算，我们只需设置Paint的文本对齐方式为CENTER，drawText的时候起点x = canvas.getWidth() / 2即可：<br>
<p></p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 11380px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_17" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_17" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=17&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>textPaint.setTextAlign(Align.CENTER);&nbsp;&nbsp;</span></span></li><li class=""><span>canvas.drawText(TEXT,&nbsp;canvas.getWidth()&nbsp;/&nbsp;<span class="number">2</span><span>,&nbsp;baseY,&nbsp;textPaint);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">textPaint.setTextAlign(Align.CENTER);
canvas.drawText(TEXT, canvas.getWidth() / 2, baseY, textPaint);</pre>当我们将文本对齐方式设置为CENTER后就相当于告诉Android我们这个文本绘制的时候从文本的中点开始向两端绘制，如果设置为LEFT则从文本的左端开始往右绘制，如果为RIGHT则从文本的右端开始往左绘制：<br>
<p></p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170445563" alt=""><br>
</p>
<h4><a name="t18"></a>setSubpixelText (boolean subpixelText)</h4>
<p>设置是否打开文本的亚像素显示，什么叫亚像素显示呢？你可以理解为对文本显示的一种优化技术，如果大家用的是Win7+系统可以在控制面板中找到一个叫ClearType的设置，该设置可以让你的文本更好地显示在屏幕上就是基于亚像素显示技术。具体我们在设计色彩系列将会细说，这里就不扯了<br>
</p>
<h4><a name="t19"></a>setStrikeThruText (boolean strikeThruText)</h4>
<p>文本删除线，不扯<br>
</p>
<h4><a name="t20"></a>setLinearText (boolean linearText)</h4>
<p>设置是否打开线性文本标识，这玩意对大多数人来说都很奇怪不知道这玩意什么意思。想要明白这东西你要先知道文本在Android中是如何进行存储和计算的。在Android中文本的绘制需要使用一个bitmap作为单个字符的缓存，既然是缓存必定要使用一定的空间，我们可以通过setLinearText (true)告诉Android我们不需要这样的文本缓存。<br>
</p>
<h4><a name="t21"></a>setFakeBoldText (boolean fakeBoldText)</h4>
<p>设置文本仿粗体<br>
</p>
<h4>measureText (String text),measureText (CharSequence text, int start, int end),measureText (String text, int start, int end),measureText (char[] text, int index, int count)</h4>
<p>测量文本宽度，上面我们已经使用过了，这四个方法都是一样的只是参数稍有不同这里就不撤了！Paint对文本的绘制方法就上面那些，API 21中还新增了两个方法这里就先不讲了，大家可以看到虽然说这些方法很多很多但是效果都是显而易见的，很多方法大家一试就知道所以哥也没有做太多的测试之类什么什么的，这样讲东西是很累的，关于文本也没有什么有趣的Demo可以玩~~~~~so~~~~~Fuck……<br>
</p>
<p>下面我们来看一个比较深奧的东西<br>
</p>
<h4><a name="t23"></a>setDither(boolean dither)</h4>
<p>这玩意用来设置我们在绘制图像时的抗抖动，也称为递色，那什么叫抗抖动呢？在Android中我确实不好拿出一个明显的例子，我就在PS里模拟说明一下<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170625934" alt=""><br>
</p>
<p>大家看到的这张七彩渐变图是一张RGB565模式下图片，即便图片不是很大我们依然可以很清晰地看到在两种颜色交接的地方有一些色块之类的东西感觉很不柔和，因为在RGB模式下只能显示2^16=65535种色彩，因此很多丰富的色彩变化无法呈现，而Android呢为我们提供了抗抖动这么一个方法，它会将相邻像素之间颜色值进行一种“中和”以呈现一个更细腻的过渡色：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170647930" alt=""><br>
</p>
<p>放大来看，其在很多相邻像素之间插入了一个“中间值”：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170703280" alt=""><br>
</p>
<p>抗抖动不是Android的专利，是图形图像领域的一种解决位图精度的技术。上面说了太多理论性的东西，估计大家都疲惫了，接下来我们来瞅瞅一个比较酷的东西MaskFilter遮罩过滤器！在Paint我们有个方法来设置这东西<br>
</p>
<h4><a name="t24"></a>setMaskFilter(MaskFilter maskfilter)</h4>
<p>MaskFilter类中没有任何实现方法，而它有两个子类BlurMaskFilter和EmbossMaskFilter，前者为模糊遮罩滤镜（比起称之为过滤器哥更喜欢称之为滤镜）而后者为浮雕遮罩滤镜，我们先来看第一个<br>
</p>
<h5><a name="t25"></a>BlurMaskFilter</h5>
<p>Android中的很多自带控件都有类似软阴影的效果，比如说Button<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170748630" alt=""><br>
</p>
<p>它周围就有一圈很淡的阴影效果，这种效果看起来让控件更真实，那么是怎么做的呢？其实很简单，使用BlurMaskFilter就可以得到类似的效果<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 12969px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_18" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_18" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=18&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;MaskFilterView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;RECT_SIZE&nbsp;=&nbsp;</span><span class="number">800</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;mPaint;</span><span class="comment">//&nbsp;画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Context&nbsp;mContext;</span><span class="comment">//&nbsp;上下文环境引用</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;left,&nbsp;top,&nbsp;right,&nbsp;bottom;</span><span class="comment">//</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;MaskFilterView(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>(context,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;MaskFilterView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mContext&nbsp;=&nbsp;context;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPaint();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化资源</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initRes(context);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化画笔</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initPaint()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG&nbsp;|&nbsp;Paint.DITHER_FLAG);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStyle(Paint.Style.FILL);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setColor(<span class="number">0xFF603811</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;设置画笔遮罩滤镜</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setMaskFilter(<span class="keyword">new</span><span>&nbsp;BlurMaskFilter(</span><span class="number">20</span><span>,&nbsp;BlurMaskFilter.Blur.SOLID));&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化资源</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initRes(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;计算位图绘制时左上角的坐标使其位于屏幕中心</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;mContext)[<span class="number">0</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;top&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;mContext)[<span class="number">1</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;mContext)[<span class="number">0</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;+&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bottom&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;mContext)[<span class="number">1</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;+&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawColor(Color.GRAY);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;画一个矩形</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawRect(left,&nbsp;top,&nbsp;right,&nbsp;bottom,&nbsp;mPaint);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class MaskFilterView extends View {
	private static final int RECT_SIZE = 800;
	private Paint mPaint;// 画笔
	private Context mContext;// 上下文环境引用

	private int left, top, right, bottom;//

	public MaskFilterView(Context context) {
		this(context, null);
	}

	public MaskFilterView(Context context, AttributeSet attrs) {
		super(context, attrs);
		mContext = context;

		// 初始化画笔
		initPaint();

		// 初始化资源
		initRes(context);
	}

	/**
	 * 初始化画笔
	 */
	private void initPaint() {
		// 实例化画笔
		mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);
		mPaint.setStyle(Paint.Style.FILL);
		mPaint.setColor(0xFF603811);

		// 设置画笔遮罩滤镜
		mPaint.setMaskFilter(new BlurMaskFilter(20, BlurMaskFilter.Blur.SOLID));
	}

	/**
	 * 初始化资源
	 */
	private void initRes(Context context) {
		/*
		 * 计算位图绘制时左上角的坐标使其位于屏幕中心
		 */
		left = MeasureUtil.getScreenSize((Activity) mContext)[0] / 2 - RECT_SIZE / 2;
		top = MeasureUtil.getScreenSize((Activity) mContext)[1] / 2 - RECT_SIZE / 2;
		right = MeasureUtil.getScreenSize((Activity) mContext)[0] / 2 + RECT_SIZE / 2;
		bottom = MeasureUtil.getScreenSize((Activity) mContext)[1] / 2 + RECT_SIZE / 2;
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);
		canvas.drawColor(Color.GRAY);

		// 画一个矩形
		canvas.drawRect(left, top, right, bottom, mPaint);
	}
}</pre>代码中我们在画布中央绘制了一个正方形，并设置了了它的模糊滤镜，但是当你运行后发现并没有任何的效果：<br>
<p></p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170836296" alt=""><br>
</p>
<p>为什么会这样呢？还记得上一节中我们讲的AvoidXfermode么，在API 16的时候该类已经被标注为过时了，因为AvoidXfermode不支持硬件加速，如果在API 16+上想获得正确的效果就必需关闭应用的硬件加速，当时我们是在AndroidManifest.xml文件中设置android:hardwareAccelerated为false来关闭的，具体有哪些绘制的方法不支持硬件加速可以参考下图<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170857348" alt=""><br>
</p>
<p>但是大家想过没如果在AndroidManifest.xml文件中关闭硬件加速那么我们整个应用都将不支持硬件加速，这显然是不科学的，如果可以只针对某个View关闭硬件加速那岂不是很好么？当然，Android也给我们提供了这样的功能，我们可以在View中通过<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 14917px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_19" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_19" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=19&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>setLayerType(LAYER_TYPE_SOFTWARE,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">setLayerType(LAYER_TYPE_SOFTWARE, null);</pre>来关闭单个View的硬件加速功能<br>
<p></p>
<p>再次运行即可得到正确的效果：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124170934796" alt=""><br>
</p>
<p>是不是很酷呢？BlurMaskFilter只有一个含参的构造函数BlurMaskFilter(float radius, BlurMaskFilter.Blur style)，其中radius很容易理解，值越大我们的阴影越扩散，比如在上面的例子中我将radius改为50<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171006471" alt=""><br>
</p>
<p>可以明显感到阴影的范围扩大了，这个很好理解。而第二个参数style表示的是模糊的类型，上面我们用到的是SOLID，其效果就是在图像的Alpha边界外产生一层与Paint颜色一致的阴影效果而不影响图像本身，除了SOLID还有三种，NORMAL,OUTER和INNER,NORMAL会将整个图像模糊掉：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171022368" alt=""><br>
</p>
<p>而OUTER会在Alpha边界外产生一层阴影且会将原本的图像变透明：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171039263" alt=""><br>
</p>
<p>INNER则会在图像内部产生模糊：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171054660" alt=""><br>
</p>
<p>INNER效果其实并不理想，实际应用中我们使用的也少，我们往往会使用混合模式和渐变和获得更完美的内阴影效果。如上所说BlurMaskFilter是根据Alpha通道的边界来计算模糊的，如果是一张图片（注：上面我们说过Android会把拷贝到资源目录的图片转为RGB565，具体原因具体分析我会单独开一篇帖子说，这里就先假设所有提及的图片格式为RGB565）你会发现没有任何效果，那么假使我们需要给图片加一个类似阴影的效果该如何做呢？其实很简单，我们可以尝试从Bitmap中获取其Alpha通道，并在绘制Bitmap前先以该Alpha通道绘制一个模糊效果不就行了？<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 15869px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_20" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_20" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=20&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;BlurMaskFilterView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;shadowPaint;</span><span class="comment">//&nbsp;画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Context&nbsp;mContext;</span><span class="comment">//&nbsp;上下文环境引用</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Bitmap&nbsp;srcBitmap,&nbsp;shadowBitmap;</span><span class="comment">//&nbsp;位图和阴影位图</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;x,&nbsp;y;</span><span class="comment">//&nbsp;位图绘制时左上角的起点坐标</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;BlurMaskFilterView(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>(context,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;BlurMaskFilterView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mContext&nbsp;=&nbsp;context;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;记得设置模式为SOFTWARE</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setLayerType(LAYER_TYPE_SOFTWARE,&nbsp;<span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPaint();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化资源</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initRes(context);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化画笔</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initPaint()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shadowPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG&nbsp;|&nbsp;Paint.DITHER_FLAG);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shadowPaint.setColor(Color.DKGRAY);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shadowPaint.setMaskFilter(<span class="keyword">new</span><span>&nbsp;BlurMaskFilter(</span><span class="number">10</span><span>,&nbsp;BlurMaskFilter.Blur.NORMAL));&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化资源</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initRes(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;获取位图</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srcBitmap&nbsp;=&nbsp;BitmapFactory.decodeResource(context.getResources(),&nbsp;R.drawable.a);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;获取位图的Alpha通道图</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shadowBitmap&nbsp;=&nbsp;srcBitmap.extractAlpha();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;计算位图绘制时左上角的坐标使其位于屏幕中心</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;mContext)[<span class="number">0</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;srcBitmap.getWidth()&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;mContext)[<span class="number">1</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;srcBitmap.getHeight()&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;先绘制阴影</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawBitmap(shadowBitmap,&nbsp;x,&nbsp;y,&nbsp;shadowPaint);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;再绘制位图</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawBitmap(srcBitmap,&nbsp;x,&nbsp;y,&nbsp;<span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class BlurMaskFilterView extends View {
	private Paint shadowPaint;// 画笔
	private Context mContext;// 上下文环境引用
	private Bitmap srcBitmap, shadowBitmap;// 位图和阴影位图

	private int x, y;// 位图绘制时左上角的起点坐标

	public BlurMaskFilterView(Context context) {
		this(context, null);
	}

	public BlurMaskFilterView(Context context, AttributeSet attrs) {
		super(context, attrs);
		mContext = context;
		// 记得设置模式为SOFTWARE
		setLayerType(LAYER_TYPE_SOFTWARE, null);

		// 初始化画笔
		initPaint();

		// 初始化资源
		initRes(context);
	}

	/**
	 * 初始化画笔
	 */
	private void initPaint() {
		// 实例化画笔
		shadowPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);
		shadowPaint.setColor(Color.DKGRAY);
		shadowPaint.setMaskFilter(new BlurMaskFilter(10, BlurMaskFilter.Blur.NORMAL));
	}

	/**
	 * 初始化资源
	 */
	private void initRes(Context context) {
		// 获取位图
		srcBitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.a);

		// 获取位图的Alpha通道图
		shadowBitmap = srcBitmap.extractAlpha();

		/*
		 * 计算位图绘制时左上角的坐标使其位于屏幕中心
		 */
		x = MeasureUtil.getScreenSize((Activity) mContext)[0] / 2 - srcBitmap.getWidth() / 2;
		y = MeasureUtil.getScreenSize((Activity) mContext)[1] / 2 - srcBitmap.getHeight() / 2;
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);
		// 先绘制阴影
		canvas.drawBitmap(shadowBitmap, x, y, shadowPaint);

		// 再绘制位图
		canvas.drawBitmap(srcBitmap, x, y, null);
	}
}</pre>如代码所示我们通过Bitmap的extractAlpha()方法从原图中分离出一个Alpha通道位图并在计算模糊滤镜的时候使用该位图生成模糊效果：<br>
<p></p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171142515" alt=""><br>
</p>
<p>相对于BlurMaskFilter来说</p>
<h5><a name="t26"></a>EmbossMaskFilter</h5>
<p>的常用性比较低，倒不是说EmbossMaskFilter很没用，只是相对于EmbossMaskFilter实现的效果来说远不及BlurMaskFilter给人的感觉霸气，说了半天那么EmbossMaskFilter到底是做什么的呢？<br>
</p>
<p>我们先来看一张图：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171219165" alt=""><br>
</p>
<p>这么一个看着像巧克力的东西就是用EmbossMaskFilter实现了，正如其名，他可以实现一种类似浮雕的效果，说白了就是让你绘制的图像感觉像是从屏幕中“凸”起来更有立体感一样（在设计软件中类似的效果称之为斜面浮雕）。该类也只有一个含参的构造方法EmbossMaskFilter(float[] direction, float ambient, float specular, float blurRadius)，这些参数理解起来要比BlurMaskFilter困难得多，如果你没有空间想象力的话，首先我们来看第一个direction指的是方向，什么方向呢？光照的方向！如果大家接触过三维设计就一定懂，没接触也没关系，我跟你说明白。假设一个没有任何光线的黑屋子里有一张桌子，桌子上有一个小球，这时我们打开桌子上的台灯，台灯照亮了小球，这时候小球的状态与下图类似：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171242643" alt=""><br>
</p>
<p>PS：略草，凑合看<br>
</p>
<p>小球最接近光源的地方肯定是最亮的这个没有异议，在参数中specular就是跟高光有关的，其值是个双向值越小或越大高光越强中间值则是最弱的，那么再看看什么是ambient呢？同样我们看个球，你会发现即便只有一盏灯光，在球底部跟桌面相接的地方依然不会出现大片的“死黑”，这是因为光线在传播的过程中碰到物体会产生反射！这种反射按照物体介质的粗糙度可以分为漫反射和镜面反射，而这里我们的小球之所以背面没有直接光照但仍能有一定的亮度就是因为大量的漫反射在空间传播让光线间接照射到小球背面，这种区别于直接照明的二次照明我们称之为间接照明，产生的光线叫做环境光ambient，参数中的该值就是用来设置环境光的，在Android中环境光默认为白色，其值越大，阴影越浅，blurRadius则是设置图像究竟“凸”出多大距离的很好理解，最难理解的一个参数是direction，上面我们也说了是光照方向的意思，该数组必须要有而且只能有三个值即float[x,y,z]，这三个值代表了一个空间坐标系，我们的光照方向则由其定义，那么它是怎么定义的呢？首先x和y很好理解，平面的两个维度嘛是吧，上面我们使用的是[1,1]也就是个45度角，而z轴表示光源是在屏幕后方还是屏幕前方，上面我们是用的是1，正值表示光源往屏幕外偏移1个单位，负值表示往屏幕里面偏移，这么一说如果我把其值改为[1,1,-1]那么我们的巧克力朝着我们的一面应该就看不到了对吧，试试看撒~~~这个效果我就不截图了，因为一片漆黑……但是你依然能够看到一点点灰度~就是因为我们的环境光ambient！，如果我们把值改为[1,1,2]往屏幕外偏移两个单位，那么我们巧克力正面光照将更强：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171312390" alt=""><br>
</p>
<p>看吧都爆色了！这里要提醒一点[x,y,z]表示的是空间坐标，代表光源的位置，那么一旦这个位置确定，[ax,ay,az]则没有意义，也就是说同时扩大三个轴向值的倍数是没有意义的，最终效果还是跟[x,y,z]一样！懂了不？<br>
</p>
<p>额……忘了给代码，大家可以自己去试试<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 17749px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_21" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_21" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=21&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;EmbossMaskFilterView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;H_COUNT&nbsp;=&nbsp;</span><span class="number">2</span><span>,&nbsp;V_COUNT&nbsp;=&nbsp;</span><span class="number">4</span><span>;</span><span class="comment">//&nbsp;水平和垂直切割数</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;mPaint;</span><span class="comment">//&nbsp;画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;PointF[]&nbsp;mPointFs;</span><span class="comment">//&nbsp;存储各个巧克力坐上坐标的点</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;width,&nbsp;height;</span><span class="comment">//&nbsp;单个巧克力宽高</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">float</span><span>&nbsp;coorY;</span><span class="comment">//&nbsp;单个巧克力坐上Y轴坐标值</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;EmbossMaskFilterView(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>(context,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;EmbossMaskFilterView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;不使用硬件加速</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setLayerType(LAYER_TYPE_SOFTWARE,&nbsp;<span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPaint();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;计算参数</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cal(context);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化画笔</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initPaint()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint();&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG&nbsp;|&nbsp;Paint.DITHER_FLAG);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStyle(Paint.Style.FILL);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setColor(<span class="number">0xFF603811</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;设置画笔遮罩滤镜</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setMaskFilter(<span class="keyword">new</span><span>&nbsp;EmbossMaskFilter(</span><span class="keyword">new</span><span>&nbsp;</span><span class="keyword">float</span><span>[]&nbsp;{&nbsp;</span><span class="number">1</span><span>,&nbsp;</span><span class="number">1</span><span>,&nbsp;1F&nbsp;},&nbsp;</span><span class="number">0</span><span>.1F,&nbsp;10F,&nbsp;20F));&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;计算参数</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;cal(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">int</span><span>[]&nbsp;screenSize&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;context);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width&nbsp;=&nbsp;screenSize[<span class="number">0</span><span>]&nbsp;/&nbsp;H_COUNT;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height&nbsp;=&nbsp;screenSize[<span class="number">1</span><span>]&nbsp;/&nbsp;V_COUNT;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">int</span><span>&nbsp;count&nbsp;=&nbsp;V_COUNT&nbsp;*&nbsp;H_COUNT;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPointFs&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;PointF[count];&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(</span><span class="keyword">int</span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="number">0</span><span>;&nbsp;i&nbsp;&lt;&nbsp;count;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(i&nbsp;%&nbsp;</span><span class="number">2</span><span>&nbsp;==&nbsp;</span><span class="number">0</span><span>)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coorY&nbsp;=&nbsp;i&nbsp;*&nbsp;height&nbsp;/&nbsp;2F;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPointFs[i]&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;PointF(</span><span class="number">0</span><span>,&nbsp;coorY);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPointFs[i]&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;PointF(width,&nbsp;coorY);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawColor(Color.GRAY);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;画矩形</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(</span><span class="keyword">int</span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="number">0</span><span>;&nbsp;i&nbsp;&lt;&nbsp;V_COUNT&nbsp;*&nbsp;H_COUNT;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawRect(mPointFs[i].x,&nbsp;mPointFs[i].y,&nbsp;mPointFs[i].x&nbsp;+&nbsp;width,&nbsp;mPointFs[i].y&nbsp;+&nbsp;height,&nbsp;mPaint);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class EmbossMaskFilterView extends View {
	private static final int H_COUNT = 2, V_COUNT = 4;// 水平和垂直切割数
	private Paint mPaint;// 画笔
	private PointF[] mPointFs;// 存储各个巧克力坐上坐标的点

	private int width, height;// 单个巧克力宽高
	private float coorY;// 单个巧克力坐上Y轴坐标值

	public EmbossMaskFilterView(Context context) {
		this(context, null);
	}

	public EmbossMaskFilterView(Context context, AttributeSet attrs) {
		super(context, attrs);
		// 不使用硬件加速
		setLayerType(LAYER_TYPE_SOFTWARE, null);

		// 初始化画笔
		initPaint();

		// 计算参数
		cal(context);
	}

	/**
	 * 初始化画笔
	 */
	private void initPaint() {
		// 实例化画笔
		mPaint = new Paint();
		mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);
		mPaint.setStyle(Paint.Style.FILL);
		mPaint.setColor(0xFF603811);

		// 设置画笔遮罩滤镜
		mPaint.setMaskFilter(new EmbossMaskFilter(new float[] { 1, 1, 1F }, 0.1F, 10F, 20F));
	}

	/**
	 * 计算参数
	 */
	private void cal(Context context) {
		int[] screenSize = MeasureUtil.getScreenSize((Activity) context);

		width = screenSize[0] / H_COUNT;
		height = screenSize[1] / V_COUNT;

		int count = V_COUNT * H_COUNT;

		mPointFs = new PointF[count];
		for (int i = 0; i &lt; count; i++) {
			if (i % 2 == 0) {
				coorY = i * height / 2F;
				mPointFs[i] = new PointF(0, coorY);
			} else {
				mPointFs[i] = new PointF(width, coorY);
			}
		}
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);
		canvas.drawColor(Color.GRAY);

		// 画矩形
		for (int i = 0; i &lt; V_COUNT * H_COUNT; i++) {
			canvas.drawRect(mPointFs[i].x, mPointFs[i].y, mPointFs[i].x + width, mPointFs[i].y + height, mPaint);
		}
	}
}</pre>上面我们说了EmbossMaskFilter的使用面并不是很大，因为所说其参数稍复杂但是其实现原理是简单粗暴的，简而言之就是根据参数在图像周围绘制一个“色带”来模拟浮雕的效果，如果我们的图像很复杂EmbossMaskFilter很难会正确模拟，所以一般遇到这类图直接call美工 = = 哈哈哈。<br>
<p></p>
<h4><a name="t27"></a>setRasterizer (Rasterizer rasterizer)</h4>
<p>设置光栅，光栅这东西涉及太多太多物理知识，不讲了一讲又是一大堆，而且该方法同样不支持HW在API 21中遗弃了~~~我们还是来看看对我们来说更好玩有趣的方法<br>
</p>
<h4><a name="t28"></a>setPathEffect(PathEffect effect)</h4>
<p>PathEffect见文知意很明显就是路径效果的意思~~那这玩意肯定跟路径Path有关咯？那是必须的撒！PathEffect跟上面的很多类一样没有具体的实现，但是其有六个子类：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171429656" alt=""><br>
</p>
<p>这六个子类分别可以实现不同的路径效果：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171445728" alt=""><br>
</p>
<p>上图从上往下分别是没有PathEffect、CornerPathEffect、DiscretePathEffect、DashPathEffect、PathDashPathEffect、ComposePathEffect、SumPathEffect的效果，代码的实现也非常简单：</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 19405px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_22" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_22" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=22&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;PathEffectView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">float</span><span>&nbsp;mPhase;</span><span class="comment">//&nbsp;偏移值</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;mPaint;</span><span class="comment">//&nbsp;画笔对象</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Path&nbsp;mPath;</span><span class="comment">//&nbsp;路径对象</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;PathEffect[]&nbsp;mEffects;</span><span class="comment">//&nbsp;路径效果数组</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;PathEffectView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;实例化画笔并设置属性</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint();&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStyle(Paint.Style.STROKE);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStrokeWidth(<span class="number">5</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setColor(Color.DKGRAY);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化路径</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPath&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Path();&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;定义路径的起点</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPath.moveTo(<span class="number">0</span><span>,&nbsp;</span><span class="number">0</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;定义路径的各个点</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(</span><span class="keyword">int</span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="number">0</span><span>;&nbsp;i&nbsp;&lt;=&nbsp;</span><span class="number">30</span><span>;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPath.lineTo(i&nbsp;*&nbsp;<span class="number">35</span><span>,&nbsp;(</span><span class="keyword">float</span><span>)&nbsp;(Math.random()&nbsp;*&nbsp;</span><span class="number">100</span><span>));&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;创建路径效果数组</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;PathEffect[</span><span class="number">7</span><span>];&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;实例化各类特效</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects[<span class="number">0</span><span>]&nbsp;=&nbsp;</span><span class="keyword">null</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects[<span class="number">1</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;CornerPathEffect(</span><span class="number">10</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects[<span class="number">2</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;DiscretePathEffect(</span><span class="number">3</span><span>.0F,&nbsp;</span><span class="number">5</span><span>.0F);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects[<span class="number">3</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;DashPathEffect(</span><span class="keyword">new</span><span>&nbsp;</span><span class="keyword">float</span><span>[]&nbsp;{&nbsp;</span><span class="number">20</span><span>,&nbsp;</span><span class="number">10</span><span>,&nbsp;</span><span class="number">5</span><span>,&nbsp;</span><span class="number">10</span><span>&nbsp;},&nbsp;mPhase);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path&nbsp;path&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Path();&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path.addRect(<span class="number">0</span><span>,&nbsp;</span><span class="number">0</span><span>,&nbsp;</span><span class="number">8</span><span>,&nbsp;</span><span class="number">8</span><span>,&nbsp;Path.Direction.CCW);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects[<span class="number">4</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;PathDashPathEffect(path,&nbsp;</span><span class="number">12</span><span>,&nbsp;mPhase,&nbsp;PathDashPathEffect.Style.ROTATE);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects[<span class="number">5</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;ComposePathEffect(mEffects[</span><span class="number">2</span><span>],&nbsp;mEffects[</span><span class="number">4</span><span>]);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mEffects[<span class="number">6</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;SumPathEffect(mEffects[</span><span class="number">4</span><span>],&nbsp;mEffects[</span><span class="number">3</span><span>]);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;绘制路径</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(</span><span class="keyword">int</span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="number">0</span><span>;&nbsp;i&nbsp;&lt;&nbsp;mEffects.length;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setPathEffect(mEffects[i]);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawPath(mPath,&nbsp;mPaint);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;每绘制一条将画布向下平移250个像素</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.translate(<span class="number">0</span><span>,&nbsp;</span><span class="number">250</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;刷新偏移值并重绘视图实现动画效果</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPhase&nbsp;+=&nbsp;<span class="number">1</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalidate();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class PathEffectView extends View {
	private float mPhase;// 偏移值
	private Paint mPaint;// 画笔对象
	private Path mPath;// 路径对象
	private PathEffect[] mEffects;// 路径效果数组

	public PathEffectView(Context context, AttributeSet attrs) {
		super(context, attrs);

		/*
		 * 实例化画笔并设置属性
		 */
		mPaint = new Paint();
		mPaint.setStyle(Paint.Style.STROKE);
		mPaint.setStrokeWidth(5);
		mPaint.setColor(Color.DKGRAY);

		// 实例化路径
		mPath = new Path();

		// 定义路径的起点
		mPath.moveTo(0, 0);

		// 定义路径的各个点
		for (int i = 0; i &lt;= 30; i++) {
			mPath.lineTo(i * 35, (float) (Math.random() * 100));
		}

		// 创建路径效果数组
		mEffects = new PathEffect[7];
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);

		/*
		 * 实例化各类特效
		 */
		mEffects[0] = null;
		mEffects[1] = new CornerPathEffect(10);
		mEffects[2] = new DiscretePathEffect(3.0F, 5.0F);
		mEffects[3] = new DashPathEffect(new float[] { 20, 10, 5, 10 }, mPhase);
		Path path = new Path();
		path.addRect(0, 0, 8, 8, Path.Direction.CCW);
		mEffects[4] = new PathDashPathEffect(path, 12, mPhase, PathDashPathEffect.Style.ROTATE);
		mEffects[5] = new ComposePathEffect(mEffects[2], mEffects[4]);
		mEffects[6] = new SumPathEffect(mEffects[4], mEffects[3]);

		/*
		 * 绘制路径
		 */
		for (int i = 0; i &lt; mEffects.length; i++) {
			mPaint.setPathEffect(mEffects[i]);
			canvas.drawPath(mPath, mPaint);

			// 每绘制一条将画布向下平移250个像素
			canvas.translate(0, 250);
		}

		// 刷新偏移值并重绘视图实现动画效果
		mPhase += 1;
		invalidate();
	}
}</pre>
<p></p>
<p>当我们不设置路径效果的时候路径的默认效果就如上图第一条线那样直的转折生硬；而CornerPathEffect则可以将路径的转角变得圆滑如图第二条线的效果，这六种路径效果类都有且只有一个含参的构造方法，CornerPathEffect的构造方法只接受一个参数radius，意思就是转角处的圆滑程度，我们尝试更改一下上面的代码：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 20719px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_23" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_23" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=23&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>mEffects[</span><span class="number">1</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;CornerPathEffect(</span><span class="number">50</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">mEffects[1] = new CornerPathEffect(50);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171529579" alt=""><br>
<p></p>
<p>Look Pic是不是更平滑了呢？CornerPathEffect相对于其他的路径效果来说最简单了；DiscretePathEffect离散路径效果相对来说则稍微复杂点，其会在路径上绘制很多“杂点”的突出来模拟一种类似生锈铁丝的效果如上图第三条线，其构造方法有两个参数，第一个呢指定这些突出的“杂点”的密度，值越小杂点越密集，第二个参数呢则是“杂点”突出的大小，值越大突出的距离越大反之反之，大家可以去自己去试下我就不演示了；DashPathEffect的效果相对与上面两种路径效果来说要略显复杂，其虽说也是包含了两个参数，但是第一个参数是一个浮点型的数组，那这个数组有什么意义呢？其实是这样的，我们在定义该参数的时候只要浮点型数组中元素个数大于等于2即可，也就是说上面我们的代码可以写成这样的：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 20959px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_24" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_24" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=24&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>mEffects[</span><span class="number">3</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;DashPathEffect(</span><span class="keyword">new</span><span>&nbsp;</span><span class="keyword">float</span><span>[]&nbsp;{</span><span class="number">20</span><span>,&nbsp;</span><span class="number">10</span><span>},&nbsp;mPhase);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">mEffects[3] = new DashPathEffect(new float[] {20, 10}, mPhase);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171626781" alt=""><br>
<p></p>
<p>从图中我们可以看到我们之前的那种线条变成了一长一短的间隔线条，而float[] {20, 10}的偶数参数20（注意数组下标是从0开始哦）定义了我们第一条实线的长度，而奇数参数10则表示第一条虚线的长度，如果此时数组后面不再有数据则重复第一个数以此往复循环，比如我们20,10后没数了，那么整条线就成了[20,10,20,10,20,10…………………………]这么一个状态，当然如果你无聊，也可以：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 21121px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_25" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_25" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=25&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>mEffects[</span><span class="number">3</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;DashPathEffect(</span><span class="keyword">new</span><span>&nbsp;</span><span class="keyword">float</span><span>[]&nbsp;{</span><span class="number">20</span><span>,&nbsp;</span><span class="number">10</span><span>,&nbsp;</span><span class="number">50</span><span>,&nbsp;</span><span class="number">5</span><span>,&nbsp;</span><span class="number">100</span><span>,&nbsp;</span><span class="number">30</span><span>,&nbsp;</span><span class="number">10</span><span>,&nbsp;</span><span class="number">5</span><span>},&nbsp;mPhase);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">mEffects[3] = new DashPathEffect(new float[] {20, 10, 50, 5, 100, 30, 10, 5}, mPhase);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171652681" alt=""><br>
<p></p>
<p>而DashPathEffect的第二个参数我称之为偏移值，动态改变其值会让路径产生动画的效果，上面代码已给出大家可以自己去试试；PathDashPathEffect和DashPathEffect是类似的，不同的是PathDashPathEffect可以让我们自己定义路径虚线的样式，比如我们将其换成一个个小圆组成的虚线：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 21283px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_26" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_26" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=26&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>Path&nbsp;path&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;Path();&nbsp;&nbsp;</span></span></li><li class=""><span>path.addCircle(<span class="number">0</span><span>,&nbsp;</span><span class="number">0</span><span>,&nbsp;</span><span class="number">3</span><span>,&nbsp;Direction.CCW);&nbsp;&nbsp;</span></span></li><li class="alt"><span>mEffects[<span class="number">4</span><span>]&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;PathDashPathEffect(path,&nbsp;</span><span class="number">12</span><span>,&nbsp;mPhase,&nbsp;PathDashPathEffect.Style.ROTATE);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="java" style="display: none;">Path path = new Path();
path.addCircle(0, 0, 3, Direction.CCW);
mEffects[4] = new PathDashPathEffect(path, 12, mPhase, PathDashPathEffect.Style.ROTATE);</pre><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171728295" alt=""><br>
<p></p>
<p>ComposePathEffect和SumPathEffect都可以用来组合两种路径效果，唯一不同的是组合的方式，ComposePathEffect(PathEffect outerpe, PathEffect innerpe)会先将路径变成innerpe的效果，再去复合outerpe的路径效果，即：outerpe(innerpe(Path))；而SumPathEffect(PathEffect first, PathEffect second)则会把两种路径效果加起来再作用于路径，具体区别大家去试试吧…………哥累了睡会~~~囧……<br>
</p>
<p>记得在1/12中我们绘制了了一个圆环并让其实现动画的效果，当时我们使用了线程来使其产生动画，但是我们是不是也可以像上面的例子一样直接在onDraw中invalidate()来产生动画呢？这个问题留给大家。<br>
</p>
<p>在1/12中我们还说过尽量不要在onDraw中使用new关键字来生成对象，但是上例的代码中我们却在频繁地使用，但是六个PathEffect的子类中除了构造方法什么都没有，我们该如何避免频繁地去new对象呢？这个问题也留给大家思考。<br>
</p>
<p>Path应用的广泛性注定了PathEffect应用的广泛，所谓一人得道鸡犬升天就是这么个道理，只要是Path能存在的地方都可以考虑使用，下面我们来模拟一个类似心电图的路径小动画：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171803645" alt=""><br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124171813660" alt=""><br>
</p>
<p>这种效果呢也是非常非常地简单，说白了就是无数条短小精悍的小“Path”连接成一条完整的心电路径：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 21663px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_27" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_27" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=27&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ECGView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;mPaint;</span><span class="comment">//&nbsp;画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Path&nbsp;mPath;</span><span class="comment">//&nbsp;路径对象</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;screenW,&nbsp;screenH;</span><span class="comment">//&nbsp;屏幕宽高</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">float</span><span>&nbsp;x,&nbsp;y;</span><span class="comment">//&nbsp;路径初始坐标</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">float</span><span>&nbsp;initScreenW;</span><span class="comment">//&nbsp;屏幕初始宽度</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">float</span><span>&nbsp;initX;</span><span class="comment">//&nbsp;初始X轴坐标</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">float</span><span>&nbsp;transX,&nbsp;moveX;</span><span class="comment">//&nbsp;画布移动的距离</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">boolean</span><span>&nbsp;isCanvasMove;</span><span class="comment">//&nbsp;画布是否需要平移</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;ECGView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;set)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;set);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;实例化画笔并设置属性</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG&nbsp;|&nbsp;Paint.DITHER_FLAG);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setColor(Color.GREEN);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStrokeWidth(<span class="number">5</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStrokeCap(Paint.Cap.ROUND);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStrokeJoin(Paint.Join.ROUND);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStyle(Paint.Style.STROKE);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setShadowLayer(<span class="number">7</span><span>,&nbsp;</span><span class="number">0</span><span>,&nbsp;</span><span class="number">0</span><span>,&nbsp;Color.GREEN);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPath&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Path();&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transX&nbsp;=&nbsp;<span class="number">0</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isCanvasMove&nbsp;=&nbsp;<span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onSizeChanged(</span><span class="keyword">int</span><span>&nbsp;w,&nbsp;</span><span class="keyword">int</span><span>&nbsp;h,&nbsp;</span><span class="keyword">int</span><span>&nbsp;oldw,&nbsp;</span><span class="keyword">int</span><span>&nbsp;oldh)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;获取屏幕宽高</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screenW&nbsp;=&nbsp;w;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screenH&nbsp;=&nbsp;h;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;设置起点坐标</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;<span class="number">0</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;(screenH&nbsp;/&nbsp;<span class="number">2</span><span>)&nbsp;+&nbsp;(screenH&nbsp;/&nbsp;</span><span class="number">4</span><span>)&nbsp;+&nbsp;(screenH&nbsp;/&nbsp;</span><span class="number">10</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;屏幕初始宽度</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initScreenW&nbsp;=&nbsp;screenW;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始X轴坐标</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initX&nbsp;=&nbsp;((screenW&nbsp;/&nbsp;<span class="number">2</span><span>)&nbsp;+&nbsp;(screenW&nbsp;/&nbsp;</span><span class="number">4</span><span>));&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moveX&nbsp;=&nbsp;(screenW&nbsp;/&nbsp;<span class="number">24</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPath.moveTo(x,&nbsp;y);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawColor(Color.BLACK);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPath.lineTo(x,&nbsp;y);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;向左平移画布</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.translate(-transX,&nbsp;<span class="number">0</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;计算坐标</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calCoors();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;绘制路径</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawPath(mPath,&nbsp;mPaint);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalidate();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;计算坐标</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;calCoors()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(isCanvasMove&nbsp;==&nbsp;</span><span class="keyword">true</span><span>)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transX&nbsp;+=&nbsp;<span class="number">4</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(x&nbsp;&lt;&nbsp;initX)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;+=&nbsp;<span class="number">8</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(x&nbsp;&lt;&nbsp;initX&nbsp;+&nbsp;moveX)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;+=&nbsp;<span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;-=&nbsp;<span class="number">8</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(x&nbsp;&lt;&nbsp;initX&nbsp;+&nbsp;(moveX&nbsp;*&nbsp;</span><span class="number">2</span><span>))&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;+=&nbsp;<span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;+=&nbsp;<span class="number">14</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(x&nbsp;&lt;&nbsp;initX&nbsp;+&nbsp;(moveX&nbsp;*&nbsp;</span><span class="number">3</span><span>))&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;+=&nbsp;<span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;-=&nbsp;<span class="number">12</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(x&nbsp;&lt;&nbsp;initX&nbsp;+&nbsp;(moveX&nbsp;*&nbsp;</span><span class="number">4</span><span>))&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;+=&nbsp;<span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;+=&nbsp;<span class="number">6</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(x&nbsp;&lt;&nbsp;initScreenW)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;+=&nbsp;<span class="number">8</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isCanvasMove&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initX&nbsp;=&nbsp;initX&nbsp;+&nbsp;initScreenW;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class ECGView extends View {
	private Paint mPaint;// 画笔
	private Path mPath;// 路径对象

	private int screenW, screenH;// 屏幕宽高
	private float x, y;// 路径初始坐标
	private float initScreenW;// 屏幕初始宽度
	private float initX;// 初始X轴坐标
	private float transX, moveX;// 画布移动的距离

	private boolean isCanvasMove;// 画布是否需要平移

	public ECGView(Context context, AttributeSet set) {
		super(context, set);

		/*
		 * 实例化画笔并设置属性
		 */
		mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);
		mPaint.setColor(Color.GREEN);
		mPaint.setStrokeWidth(5);
		mPaint.setStrokeCap(Paint.Cap.ROUND);
		mPaint.setStrokeJoin(Paint.Join.ROUND);
		mPaint.setStyle(Paint.Style.STROKE);
		mPaint.setShadowLayer(7, 0, 0, Color.GREEN);

		mPath = new Path();
		transX = 0;
		isCanvasMove = false;
	}

	@Override
	public void onSizeChanged(int w, int h, int oldw, int oldh) {
		/*
		 * 获取屏幕宽高
		 */
		screenW = w;
		screenH = h;

		/*
		 * 设置起点坐标
		 */
		x = 0;
		y = (screenH / 2) + (screenH / 4) + (screenH / 10);

		// 屏幕初始宽度
		initScreenW = screenW;

		// 初始X轴坐标
		initX = ((screenW / 2) + (screenW / 4));

		moveX = (screenW / 24);

		mPath.moveTo(x, y);
	}

	@Override
	public void onDraw(Canvas canvas) {
		canvas.drawColor(Color.BLACK);

		mPath.lineTo(x, y);

		// 向左平移画布
		canvas.translate(-transX, 0);

		// 计算坐标
		calCoors();

		// 绘制路径
		canvas.drawPath(mPath, mPaint);
		invalidate();
	}

	/**
	 * 计算坐标
	 */
	private void calCoors() {
		if (isCanvasMove == true) {
			transX += 4;
		}

		if (x &lt; initX) {
			x += 8;
		} else {
			if (x &lt; initX + moveX) {
				x += 2;
				y -= 8;
			} else {
				if (x &lt; initX + (moveX * 2)) {
					x += 2;
					y += 14;
				} else {
					if (x &lt; initX + (moveX * 3)) {
						x += 2;
						y -= 12;
					} else {
						if (x &lt; initX + (moveX * 4)) {
							x += 2;
							y += 6;
						} else {
							if (x &lt; initScreenW) {
								x += 8;
							} else {
								isCanvasMove = true;
								initX = initX + initScreenW;
							}
						}
					}
				}
			}

		}
	}
}</pre>我们在onSizeChanged(int w, int h, int oldw, int oldh)方法中获取屏幕的宽高，该方法的具体用法我们会在7/12学习View的测绘时具体说明，这里就先不说了
<p></p>
<p>上面在设置Paint属性的时候我们使用到了一个</p>
<p></p>
<h4><a name="t29"></a>setStrokeCap(Paint.Cap cap)</h4>
方法，该方法用来设置我们画笔的笔触风格，上面的例子中我使用的是ROUND，表示是圆角的笔触，那么什么叫笔触呢，其实很简单，就像我们现实世界中的笔，如果你用圆珠笔在纸上戳一点，那么这个点一定是个圆，即便很小，它代表了笔的笔触形状，如果我们把一支铅笔笔尖削成方形的，那么画出来的线条会是一条弯曲的“矩形”，这就是笔触的意思。除了ROUND，Paint.Cap还提供了另外两种类型：SQUARE和BUTT，具体大家自己去try~~<br>
<p></p>
<h4><a name="t30"></a>setStrokeJoin(Paint.Join join)</h4>
<p>这个方法用于设置结合处的形态，就像上面的代码中我们虽说是花了一条心电线，但是这条线其实是由无数条小线拼接成的，拼接处的形状就由该方法指定。<br>
</p>
<p>上面的例子中我们还使用到了一个方法<br>
</p>
<h4><a name="t31"></a>setShadowLayer(float radius, float dx, float dy, int shadowColor)</h4>
<p>该方法为我们绘制的图形添加一个阴影层效果：<br>
</p>
<p></p>
<div class="dp-highlighter bg_java"><div class="bar"><div class="tools"><b>[java]</b> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="About" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a><div style="position: absolute; left: 430px; top: 24145px; width: 27px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_28" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="27" height="15" name="ZeroClipboardMovie_28" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=28&amp;width=27&amp;height=15" wmode="transparent"></div></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ShadowView&nbsp;</span><span class="keyword">extends</span><span>&nbsp;View&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;RECT_SIZE&nbsp;=&nbsp;</span><span class="number">800</span><span>;</span><span class="comment">//&nbsp;方形大小</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;Paint&nbsp;mPaint;</span><span class="comment">//&nbsp;画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">int</span><span>&nbsp;left,&nbsp;top,&nbsp;right,&nbsp;bottom;</span><span class="comment">//&nbsp;绘制时坐标</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;ShadowView(Context&nbsp;context,&nbsp;AttributeSet&nbsp;attrs)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>(context,&nbsp;attrs);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;setShadowLayer不支持HW</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setLayerType(LAYER_TYPE_SOFTWARE,&nbsp;<span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPaint();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;初始化资源</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initRes(context);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化画笔</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initPaint()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;实例化画笔</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;Paint(Paint.ANTI_ALIAS_FLAG);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setColor(Color.RED);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setStyle(Style.FILL);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mPaint.setShadowLayer(<span class="number">10</span><span>,&nbsp;</span><span class="number">3</span><span>,&nbsp;</span><span class="number">3</span><span>,&nbsp;Color.DKGRAY);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/**</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化资源</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;initRes(Context&nbsp;context)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">/*</span>&nbsp;</span></li><li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;计算位图绘制时左上角的坐标使其位于屏幕中心</span>&nbsp;</span></li><li class=""><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;context)[<span class="number">0</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;top&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;context)[<span class="number">1</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;-&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;context)[<span class="number">0</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;+&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bottom&nbsp;=&nbsp;MeasureUtil.getScreenSize((Activity)&nbsp;context)[<span class="number">1</span><span>]&nbsp;/&nbsp;</span><span class="number">2</span><span>&nbsp;+&nbsp;RECT_SIZE&nbsp;/&nbsp;</span><span class="number">2</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">protected</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;onDraw(Canvas&nbsp;canvas)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">super</span><span>.onDraw(canvas);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;先绘制位图</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canvas.drawRect(left,&nbsp;top,&nbsp;right,&nbsp;bottom,&nbsp;mPaint);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="java" style="display: none;">public class ShadowView extends View {
	private static final int RECT_SIZE = 800;// 方形大小
	private Paint mPaint;// 画笔

	private int left, top, right, bottom;// 绘制时坐标

	public ShadowView(Context context, AttributeSet attrs) {
		super(context, attrs);
		// setShadowLayer不支持HW
		setLayerType(LAYER_TYPE_SOFTWARE, null);

		// 初始化画笔
		initPaint();

		// 初始化资源
		initRes(context);
	}

	/**
	 * 初始化画笔
	 */
	private void initPaint() {
		// 实例化画笔
		mPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
		mPaint.setColor(Color.RED);
		mPaint.setStyle(Style.FILL);
		mPaint.setShadowLayer(10, 3, 3, Color.DKGRAY);
	}

	/**
	 * 初始化资源
	 */
	private void initRes(Context context) {
		/*
		 * 计算位图绘制时左上角的坐标使其位于屏幕中心
		 */
		left = MeasureUtil.getScreenSize((Activity) context)[0] / 2 - RECT_SIZE / 2;
		top = MeasureUtil.getScreenSize((Activity) context)[1] / 2 - RECT_SIZE / 2;
		right = MeasureUtil.getScreenSize((Activity) context)[0] / 2 + RECT_SIZE / 2;
		bottom = MeasureUtil.getScreenSize((Activity) context)[1] / 2 + RECT_SIZE / 2;
	}

	@Override
	protected void onDraw(Canvas canvas) {
		super.onDraw(canvas);

		// 先绘制位图
		canvas.drawRect(left, top, right, bottom, mPaint);
	}
}</pre>radius表示阴影的扩散半径，而dx和dy表示阴影平面上的偏移值，shadowColor就不说了阴影颜色，最后提醒一点setShadowLayer同样不支持HW哦！<br>
<p></p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124172028569" alt=""><br>
</p>
<p>上面我们讲MaskFilter的时候曾用其子类BlurMaskFilter模拟过类似效果，跟BlurMaskFilter比起来这方法是不是更简捷呢？但是BlurMaskFilter能做的setShadowLayer却不一定能做到哦！<br>
</p>
<p>至此，Paint下的几乎所有方法我们都已经学习了，正如我之前所说，工欲善其事必先利其器，自定义View很重要的一部分就是如何去画一个Perfect的图形，Android给我们提供了绝大部分的方法和类来模拟现实中真正的画笔，我们只需要学会如何灵活运用即可，牛逼的人不需要复杂的技术即可实现复杂的效果~~这就是实力、才是真大神~~~~So~共勉<br>
</p>
<p>PS：这一节讲得有点戳~~Because something happen in my life maybe changed my life，还有最近忙着改的一个相机应用的开源项目，所以很多事 = =，讲得不是很好大家见谅，下一期补上更精彩的内容<br>
</p>
<p>源码地址：<a target="_blank" href="http://download.csdn.net/detail/aigestudio/8193115">传送门</a><br>
</p>
<p>温馨提示：自定义控件其实很简单系列文章每周一、周四更新一篇~<br>
</p>
<p>下集精彩预告：Paint中的方法几乎都已经概述了一遍，但是有个方法我们还没说setShader(Shader shader)，这个方法很重要吗？其实一般，但是其涉及到的一个东西对我们来说相当重要：Matrix，这个神秘的东西究竟是做什么用的呢？卖个关子先，下一节我们将会结束整个Paint的学习，是不是有点想跃跃一试的冲动？下期我将会给大家带来两个好玩的例子，这两个例子来自于群里朋友的提问，不多说了，上图：<br>
</p>
<p><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124172220578" alt="">&nbsp;<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124172229953" alt="">&nbsp;<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124172239032" alt="">&nbsp;<img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20141124172248548" alt=""><br>
</p>
<p>锁定本台敬请关注：自定义控件其实很简单1/3<br>
</p>
   
</div>




<!-- Baidu Button BEGIN -->




<div class="bdsharebuttonbox bdshare-button-style0-16" style="float: right;" data-bd-bind="1452158188459">
<a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="bds_more" data-cmd="more" style="background-position:0 0 !important; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png) !important"></a>
<a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间" style="background-position:0 -52px !important"></a>
<a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博" style="background-position:0 -104px !important"></a>
<a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博" style="background-position:0 -260px !important"></a>
<a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="bds_renren" data-cmd="renren" title="分享到人人网" style="background-position:0 -208px !important"></a>
<a href="http://blog.csdn.net/aigestudio/article/details/41447349#" class="bds_weixin" data-cmd="weixin" title="分享到微信" style="background-position:0 -1612px !important"></a>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
<!-- Baidu Button END -->

   <link rel="stylesheet" href="http://static.blog.csdn.net/css/blog_detail.css">

    
<!--172.16.140.12-->

<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/bds_s_v2.js"></script>

<script type="text/javascript">
    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->

 

        <div id="digg" articleid="41447349">
            <dl id="btnDigg" class="digg digg_disable">
               
                 <dt>顶</dt>
                <dd>13</dd>
            </dl>
            <dl id="btnBury" class="digg digg_disable">
              
                  <dt>踩</dt>
                <dd>0</dd>
            </dl>
        </div>

   <ul class="article_next_prev">
                <li class="prev_article"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_shangyipian&#39;]);location.href=&#39;/aigestudio/article/details/41316141&#39;;">上一篇</span><a href="http://blog.csdn.net/aigestudio/article/details/41316141" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_shangyipian&#39;])">自定义控件其实很简单1/6</a></li>
                <li class="next_article"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_xiayipian&#39;]);location.href=&#39;/aigestudio/article/details/41799811&#39;;">下一篇</span><a href="http://blog.csdn.net/aigestudio/article/details/41799811" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_xiayipian&#39;])">自定义控件其实很简单1/3</a></li>
    </ul>

    <div style="clear:both; height:10px;"></div>


        <div class="similar_article" style="">
                <h4>我的同类文章</h4>
                <div class="similar_c" style="margin:20px 0px 0px 0px">
                    <div class="similar_c_t">
                                <label class="similar_cur">
                                    <span style="cursor:pointer" onclick="GetCategoryArticles(&#39;2397181&#39;,&#39;aigestudio&#39;,&#39;foot&#39;,&#39;41447349&#39;);">Custom My Love<em>（21）</em></span>
                                </label>
                    </div>
                   
                    <div class="similar_wrap tracking-ad" data-mod="popu_141" style="max-height:195px;">
                        <a href="http://blog.csdn.net/" style="display:none" target="_blank">http://blog.csdn.net</a>
                        <ul class="similar_list fl"><li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/40891457" id="foot_aritcle_40891457undefined1243814358022064" title="高仿网易评论列表效果之界面分析">高仿网易评论列表效果之界面分析</a></li> <li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/41143609" id="foot_aritcle_41143609undefined05108533147722483" title="高仿网易评论列表效果之数据准备">高仿网易评论列表效果之数据准备</a></li> <li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/41212583" id="foot_aritcle_41212583undefined2985194919165224" title="自定义控件其实很简单1/12">自定义控件其实很简单1/12</a></li> <li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/42678541" id="foot_aritcle_42678541undefined6132183454465121" title="Android翻页效果原理实现之翻页的尝试">Android翻页效果原理实现之翻页的尝试</a></li> <li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/41960507" id="foot_aritcle_41960507undefined8915119792800397" title="自定义控件其实很简单5/12">自定义控件其实很简单5/12</a></li> </ul>

                        <ul class="similar_list fr"><li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/41146111" id="foot_aritcle_41146111undefined719054500805214" title="高仿网易评论列表效果之界面生成">高仿网易评论列表效果之界面生成</a></li> <li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/40869893" id="foot_aritcle_40869893undefined42392362863756716" title="回调机制详解">回调机制详解</a></li> <li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/42677973" id="foot_aritcle_42677973undefined7492339003365487" title="自定义控件其实很简单1/2">自定义控件其实很简单1/2</a></li> <li><em>•</em><a href="http://blog.csdn.net/aigestudio/article/details/41799811" id="foot_aritcle_41799811undefined3030589434783906" title="自定义控件其实很简单1/3">自定义控件其实很简单1/3</a></li> <li style="padding-left: 200px;"><a href="http://blog.csdn.net/aigestudio/article/category/2397181">更多</a></li></ul>
                    </div>
                </div>
            </div>    
    <script type="text/javascript">
        $(function () {
            GetCategoryArticles('2397181', 'aigestudio','foot','41447349');
        });
    </script>
      
</div>
<div id="suggest">

    <dl class="blog-associat-tag">
        <dt>主题推荐</dt>
        <dd>
                <a href="http://www.csdn.net/tag/color" target="_blank" class="blog-tage-red">color</a> 
                <a href="http://www.csdn.net/tag/%E6%8E%A7%E4%BB%B6" target="_blank" class="blog-tage-red">控件</a> 
                <a href="http://www.csdn.net/tag/power" target="_blank" class="blog-tage-red">power</a> 
                <a href="http://www.csdn.net/tag/gb2" target="_blank" class="blog-tage-red">gb2</a> 
                <a href="http://www.csdn.net/tag/91" target="_blank" class="blog-tage-red">91</a> 
        </dd>        
    </dl> 
    <span style="display:none" id="tags">color,控件,power,gb2,91</span>

</div>
         <script language="javascript" type="text/javascript">     
             $(function(){
                 $.get("/aigestudio/svc/GetSuggestContent/41447349",function(data){
                     $("#suggest").html(data);
                 });     
             });             
         </script>  


<style>
.blog-ass-articl dd {
color: #369;
width: 99%; /*修改行*/
float: left;
overflow: hidden;
font: normal normal 12px/23px "SimSun";
height: 23px;
margin: 0;
padding: 0 0 0 10px;
margin-right: 30px;
background: url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;
}
</style>

<dl class="blog-ass-articl" id="res-relatived"> 
     <dt><span>猜你在找</span></dt>    


   


    <div id="adCollege" style="width: 42%;float: left;"> 
        <script src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/job_reco.js" type="text/javascript"></script> 
        <script type="text/javascript">
            csdn.position.showEdu({
                sourceType: "blog",
                searchType: "detail",
                searchKey: "41447349",
                username: "",
                recordcount: "5",
                containerId: "adCollege" //容器DIV的id。 
            });
        </script> 
    <div class="tracking-ad" data-mod="popu_84"><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1744" title="Android开发—屏幕适配" strategy="v4:content" target="_blank">Android开发—屏幕适配</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/461" title="Android应用的调试" strategy="v4:content" target="_blank">Android应用的调试</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1479" title="Android底层技术：Linux驱动框架与开发" strategy="v4:content" target="_blank">Android底层技术：Linux驱动框架与开发</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1483" title="Android平台技术：JNI开发初步" strategy="v4:content" target="_blank">Android平台技术：JNI开发初步</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;"><a href="http://edu.csdn.net/course/detail/1480" title="Android底层技术：Java层系统服务(Android Service)" strategy="v4:content" target="_blank">Android底层技术：Java层系统服务(Android Service)</a></dd></div></div>  

    
     <div id="res" data-mod="popu_36" class="tracking-ad" style="width: 42%; float: left; margin-right: 30px; display: block;"><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="http://blog.csdn.net/luoxing999/article/details/6495582" title="注册表知识和技巧大全" strategy="SearchAlgorithm" target="_blank">注册表知识和技巧大全</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="http://blog.csdn.net/laizi19870929/article/details/3500127" title="电脑小问题不求人" strategy="SearchAlgorithm" target="_blank">电脑小问题不求人</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET.html" title="自定义控件其实很简单14" strategy="SearchAlgorithm" target="_blank">自定义控件其实很简单14</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="http://blog.csdn.net/qq_27073205/article/details/46052835" title="自定义控件其实很简单14" strategy="SearchAlgorithm" target="_blank">自定义控件其实很简单14</a></dd><dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="http://blog.csdn.net/c794904140/article/details/44196963" title="自定义控件其实很简单14" strategy="SearchAlgorithm" target="_blank">自定义控件其实很简单14</a></dd></div>
   
</dl>



<script type="text/javascript">
    $(function () {
        setTimeout(function () {
            var searchtitletags = '自定义控件其实很简单1/4' + ',' + $("#tags").html();
            searchService({
                index: 'blog',
                query: searchtitletags,
                from: 5,
                size: 5,
                appendTo: '#res',
                url: 'recommend',
                his: 2,
                client: "blog_cf_enhance",
                tmpl: '<dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="#{ url }" title="#{ title }" strategy="#{ strategy }">#{ title }</a></dd>'
            });
        }, 500);
    });    

 </script>   

    <div id="ad_cen">        
<!--AdForward Begin:-->
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/s(1)" charset="gbk"></script><script type="text/javascript">
/*博客频道内容页下方Banner728*90，创建于2014-7-3*/
var cpro_id = "u1607657";
</script>
<script src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/c.js" type="text/javascript"></script><div id="BAIDU_EXP_UNION__wrapper_u1607657_0"><iframe id="iframeu1607657_0" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/acom.html" width="728" height="90" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0; vertical-align:bottom;margin:0;" allowtransparency="true"></iframe></div>
<!--AdForward End-->    </div>  

<div class="comment_class">
    <div id="comment_title" class="panel_head">
        <span class="see_comment">查看评论</span><a name="comments"></a></div>
    <div id="comment_list"><dl class="comment_item comment_topic" id="comment_item_5762142"><dt class="comment_head" floor="26">26楼 <span class="user"><a class="username" href="http://blog.csdn.net/qq_20198405" target="_blank">pepe_士奇</a> <span class="ptime">6天前 00:35发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5762142" username="qq_20198405"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/qq_20198405" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_qq_20198405.jpg" width="40" height="40"></a></dd><dd class="comment_body">目前最牛的讲解了</dd></dl><dl class="comment_item comment_topic" id="comment_item_5721273"><dt class="comment_head" floor="25">25楼 <span class="user"><a class="username" href="http://blog.csdn.net/u013481061" target="_blank">AsheSSS</a> <span class="ptime">2015-12-15 15:08发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5721273" username="u013481061"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013481061" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u013481061.jpg" width="40" height="40"></a></dd><dd class="comment_body">我项目中就用了一个贝塞尔曲线的折线图，用了AndroidMartChart，但是还是十分想自己画一个因为效果有差异，下一节</dd></dl><dl class="comment_item comment_topic" id="comment_item_5713031"><dt class="comment_head" floor="24">24楼 <span class="user"><a class="username" href="http://blog.csdn.net/ahs18735502332" target="_blank">ahs18735502332</a> <span class="ptime">2015-12-11 15:05发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5713031" username="ahs18735502332"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/ahs18735502332" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_ahs18735502332.jpg" width="40" height="40"></a></dd><dd class="comment_body">只想说 我艹 忒屌啊</dd></dl><dl class="comment_item comment_topic" id="comment_item_5706523"><dt class="comment_head" floor="23">23楼 <span class="user"><a class="username" href="http://blog.csdn.net/u012606628" target="_blank">安静的大腿</a> <span class="ptime">2015-12-08 18:01发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5706523" username="u012606628"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u012606628" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u012606628.jpg" width="40" height="40"></a></dd><dd class="comment_body">相见恨晚，这阵子有得看了， 感谢楼主分享！。</dd></dl><dl class="comment_item comment_topic" id="comment_item_5640539"><dt class="comment_head" floor="22">22楼 <span class="user"><a class="username" href="http://blog.csdn.net/liu289747235" target="_blank">leellun</a> <span class="ptime">2015-11-25 17:13发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5640539" username="liu289747235"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/liu289747235" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_liu289747235.jpg" width="40" height="40"></a></dd><dd class="comment_body">东西够全方面</dd></dl><dl class="comment_item comment_topic" id="comment_item_5509959"><dt class="comment_head" floor="21">21楼 <span class="user"><a class="username" href="http://blog.csdn.net/sugaryaruan" target="_blank">sugaryaruan</a> <span class="ptime">2015-10-15 21:50发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5509959" username="sugaryaruan"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/sugaryaruan" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_sugaryaruan.jpg" width="40" height="40"></a></dd><dd class="comment_body">强！谢谢分享</dd></dl><dl class="comment_item comment_topic" id="comment_item_5428521"><dt class="comment_head" floor="20">20楼 <span class="user"><a class="username" href="http://blog.csdn.net/KuDragon" target="_blank">DragonFly9</a> <span class="ptime">2015-09-22 01:00发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5428521" username="KuDragon"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/KuDragon" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_kudragon.jpg" width="40" height="40"></a></dd><dd class="comment_body">顶顶顶！！！谢谢分享</dd></dl><dl class="comment_item comment_topic" id="comment_item_5159121"><dt class="comment_head" floor="19">19楼 <span class="user"><a class="username" href="http://blog.csdn.net/u011546655" target="_blank">开拓者</a> <span class="ptime">2015-06-24 15:13发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="5159121" username="u011546655"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u011546655" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u011546655.jpg" width="40" height="40"></a></dd><dd class="comment_body">逼格真高，跟洋洋一个吊样</dd></dl><dl class="comment_item comment_topic" id="comment_item_4943897"><dt class="comment_head" floor="18">18楼 <span class="user"><a class="username" href="http://blog.csdn.net/Kamingnnnnng" target="_blank">ng2Kaming</a> <span class="ptime">2015-04-16 15:12发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4943897" username="Kamingnnnnng"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Kamingnnnnng" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_kamingnnnnng.jpg" width="40" height="40"></a></dd><dd class="comment_body">我顶顶顶</dd></dl><dl class="comment_item comment_topic" id="comment_item_4937133"><dt class="comment_head" floor="17">17楼 <span class="user"><a class="username" href="http://blog.csdn.net/Bossgirls" target="_blank">阿廖的蛀牙</a> <span class="ptime">2015-04-14 13:39发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4937133" username="Bossgirls"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Bossgirls" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_bossgirls.jpg" width="40" height="40"></a></dd><dd class="comment_body">paint.measureText()和getTextBounds获取到的宽度有什么不同捏</dd></dl><dl class="comment_item comment_topic" id="comment_item_4924887"><dt class="comment_head" floor="16">16楼 <span class="user"><a class="username" href="http://blog.csdn.net/itheima28" target="_blank">itheima28</a> <span class="ptime">2015-04-09 12:26发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4924887" username="itheima28"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/itheima28" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_itheima28.jpg" width="40" height="40"></a></dd><dd class="comment_body">顶爱哥,你是怎么学到这么牛的,能开篇博文,教下我们吧....</dd></dl><dl class="comment_item comment_topic" id="comment_item_4920065"><dt class="comment_head" floor="15">15楼 <span class="user"><a class="username" href="http://blog.csdn.net/u013336828" target="_blank">笨笨的菜鸟</a> <span class="ptime">2015-04-07 16:59发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4920065" username="u013336828"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013336828" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u013336828.jpg" width="40" height="40"></a></dd><dd class="comment_body">求qq群！</dd></dl><dl class="comment_item comment_topic" id="comment_item_4883461"><dt class="comment_head" floor="14">14楼 <span class="user"><a class="username" href="http://blog.csdn.net/bfbx5173" target="_blank">bfbx5173</a> <span class="ptime">2015-03-27 22:11发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4883461" username="bfbx5173"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/bfbx5173" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_bfbx5173.jpg" width="40" height="40"></a></dd><dd class="comment_body">我现在有个需求不知道怎么弄出来，求爱哥告诉一下：<br>现在我随便话一条不规则曲线将屏幕划成两半。<br>然后需求就是把其中一半用单色填满。这个怎么弄，急？</dd><dl class="comment_item comment_reply" id="comment_item_4883571"><dt class="comment_head" floor="14">Re: <span class="user"><a class="username" href="http://blog.csdn.net/aigestudio" target="_blank">AigeStudio</a> <span class="ptime">2015-03-27 22:44发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4883571" username="aigestudio"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/aigestudio" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_aigestudio.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复bfbx5173：这个很简单啊，down的时候根据触摸轨迹画线，up的时候连接控件（屏幕）的左上和左下（或右上和右下）点闭合填充即可</dd><dl class="comment_item comment_reply" id="comment_item_4885197"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/bfbx5173" target="_blank">bfbx5173</a> <span class="ptime">2015-03-28 15:01发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4885197" username="bfbx5173"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/bfbx5173" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_bfbx5173.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复aigestudio：这样的话连到屏幕左下，右下角的线会因为mPaint.setPathEffect(pointCornerPathEffect);<br>这个变成圆形的呀。<br>private int[] array = { 22, 26, 24, 33, 28, 20, 25 }; <br>这个是一条曲线的几个核心点的Y轴高度。<br>我现在想到的做法就是把左下右下2个角再用矩形填起来。</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_4861419"><dt class="comment_head" floor="13">13楼 <span class="user"><a class="username" href="http://blog.csdn.net/liguojin1230" target="_blank">小小劲</a> <span class="ptime">2015-03-19 13:26发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4861419" username="liguojin1230"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/liguojin1230" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_liguojin1230.jpg" width="40" height="40"></a></dd><dd class="comment_body">大神！在上一节的最后一个Example橡皮擦的View，逻辑那里有问题？本人已往挖坑里跳了！！！</dd></dl><dl class="comment_item comment_topic" id="comment_item_4743607"><dt class="comment_head" floor="12">12楼 <span class="user"><a class="username" href="http://blog.csdn.net/u013466454" target="_blank">small__tiger</a> <span class="ptime">2015-01-27 16:50发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4743607" username="u013466454"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013466454" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u013466454.jpg" width="40" height="40"></a></dd><dd class="comment_body">博客短一点就好了。分几篇来写</dd></dl><dl class="comment_item comment_topic" id="comment_item_4742943"><dt class="comment_head" floor="11">11楼 <span class="user"><a class="username" href="http://blog.csdn.net/iochubby" target="_blank">iochubby</a> <span class="ptime">2015-01-27 14:34发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4742943" username="iochubby"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/iochubby" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_iochubby.jpg" width="40" height="40"></a></dd><dd class="comment_body">屌炸天。</dd></dl><dl class="comment_item comment_topic" id="comment_item_4732251"><dt class="comment_head" floor="10">10楼 <span class="user"><a class="username" href="http://blog.csdn.net/bz419927089" target="_blank">赵凯强</a> <span class="ptime">2015-01-23 13:45发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4732251" username="bz419927089"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/bz419927089" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_bz419927089.jpg" width="40" height="40"></a></dd><dd class="comment_body">在心电图那个例子中，如果开启硬件加速的话，运行一段时间会报 Path too large to be rendered into a texture，然后不再绘制，所以可以setLayerType(LAYER_TYPE_SOFTWARE,null)关闭硬件加速就没这个问题了</dd><dl class="comment_item comment_reply" id="comment_item_4743603"><dt class="comment_head" floor="10">Re: <span class="user"><a class="username" href="http://blog.csdn.net/u013466454" target="_blank">small__tiger</a> <span class="ptime">2015-01-27 16:49发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4743603" username="u013466454"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013466454" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u013466454.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复bz419927089：我也遇到了。等着吧</dd></dl><dl class="comment_item comment_reply" id="comment_item_4732309"><dt class="comment_head" floor="10">Re: <span class="user"><a class="username" href="http://blog.csdn.net/aigestudio" target="_blank">AigeStudio</a> <span class="ptime">2015-01-23 14:08发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4732309" username="aigestudio"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/aigestudio" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_aigestudio.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复bz419927089：翻页效果原理实现会说明问题存在的原因</dd><dl class="comment_item comment_reply" id="comment_item_4732319"><dt class="comment_head" floor="2">Re: <span class="user"><a class="username" href="http://blog.csdn.net/bz419927089" target="_blank">赵凯强</a> <span class="ptime">2015-01-23 14:11发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4732319" username="bz419927089"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/bz419927089" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_bz419927089.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复aigestudio：爱哥的blog必须当连载小说看，一篇扣着一篇，根本停不下来^_^</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_4697695"><dt class="comment_head" floor="9">9楼 <span class="user"><a class="username" href="http://blog.csdn.net/elsdnwn" target="_blank">Michael丶</a> <span class="ptime">2015-01-09 16:41发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4697695" username="elsdnwn"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/elsdnwn" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_elsdnwn.jpg" width="40" height="40"></a></dd><dd class="comment_body">爱哥，这篇就不是小说啊，[大哭]</dd></dl><dl class="comment_item comment_topic" id="comment_item_4690161"><dt class="comment_head" floor="8">8楼 <span class="user"><a class="username" href="http://blog.csdn.net/jspz11111" target="_blank">jspz11111</a> <span class="ptime">2015-01-07 09:43发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4690161" username="jspz11111"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/jspz11111" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_jspz11111.jpg" width="40" height="40"></a></dd><dd class="comment_body">上面那个公式看看是否有点问题  <br>感觉应该是 		baseY = (int) ((canvas.getHeight() / 2) + ((Math.abs(textPaint.ascent())-Math.abs(textPaint.descent()))) / 2);</dd><dl class="comment_item comment_reply" id="comment_item_4823895"><dt class="comment_head" floor="8">Re: <span class="user"><a class="username" href="http://blog.csdn.net/zeng1990java" target="_blank">晴天小子</a> <span class="ptime">2015-03-04 17:58发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4823895" username="zeng1990java"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/zeng1990java" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_zeng1990java.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复jspz11111：效果一样的</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4680467"><dt class="comment_head" floor="7">7楼 <span class="user"><a class="username" href="http://blog.csdn.net/x359981514" target="_blank">eclipse_xu</a> <span class="ptime">2015-01-04 16:04发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4680467" username="x359981514"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/x359981514" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_x359981514.jpg" width="40" height="40"></a></dd><dd class="comment_body">invalidate()具体多久刷新一次？</dd><dl class="comment_item comment_reply" id="comment_item_4683895"><dt class="comment_head" floor="7">Re: <span class="user"><a class="username" href="http://blog.csdn.net/aigestudio" target="_blank">AigeStudio</a> <span class="ptime">2015-01-05 12:56发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4683895" username="aigestudio"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/aigestudio" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_aigestudio.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复x359981514：invalidate()只会标识View视图的无效化，具体是不是需要执行reDraw还要根据在View各个时期赋予的标识值来判断，这段时间是不定的，就像Source doc所说的那样：onDraw  will be called at some point in the future，简单来说调用invalidate()的时候并不一定会立即执行onDraw，具体原因和优化方法回来后会在《翻页效果原理实现》中详解、Supper time~</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_4604701"><dt class="comment_head" floor="6">6楼 <span class="user"><a class="username" href="http://blog.csdn.net/u011367679" target="_blank">小妖森</a> <span class="ptime">2014-12-12 16:02发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4604701" username="u011367679"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u011367679" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u011367679.jpg" width="40" height="40"></a></dd><dd class="comment_body">爱歌 有群么，好交流一下。最近想学自定义控件</dd><dl class="comment_item comment_reply" id="comment_item_4605905"><dt class="comment_head" floor="6">Re: <span class="user"><a class="username" href="http://blog.csdn.net/aigestudio" target="_blank">AigeStudio</a> <span class="ptime">2014-12-13 10:00发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4605905" username="aigestudio"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/aigestudio" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_aigestudio.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u011367679：没有噢，Q:1994099479</dd><dl class="comment_item comment_reply" id="comment_item_4609309"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/u011367679" target="_blank">小妖森</a> <span class="ptime">2014-12-15 08:40发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4609309" username="u011367679"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u011367679" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u011367679.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复aigestudio：这是你的q么？</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_4551147"><dt class="comment_head" floor="5">5楼 <span class="user"><a class="username" href="http://blog.csdn.net/u011286777" target="_blank">JabariWu</a> <span class="ptime">2014-11-26 16:32发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4551147" username="u011286777"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u011286777" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u011286777.jpg" width="40" height="40"></a></dd><dd class="comment_body">爱哥博客里面的Demo（不是源码）也有坑啊，专坑俺们一步一步照着学习的，实时监察俺们是否认真看了，记了...(ಥ_ಥ)结果掉坑里了，还好爬起来了</dd></dl><dl class="comment_item comment_topic" id="comment_item_4549797"><dt class="comment_head" floor="4">4楼 <span class="user"><a class="username" href="http://blog.csdn.net/u011286777" target="_blank">JabariWu</a> <span class="ptime">2014-11-26 11:03发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4549797" username="u011286777"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u011286777" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u011286777.jpg" width="40" height="40"></a></dd><dd class="comment_body">持续关注中~O.O~<br>关注爱哥，人人有责</dd></dl><dl class="comment_item comment_topic" id="comment_item_4544165"><dt class="comment_head" floor="3">3楼 <span class="user"><a class="username" href="http://blog.csdn.net/liu470368500" target="_blank">_小豪</a> <span class="ptime">2014-11-24 18:31发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4544165" username="liu470368500"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/liu470368500" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_liu470368500.jpg" width="40" height="40"></a></dd><dd class="comment_body">爱哥。why are you so diao</dd></dl><dl class="comment_item comment_topic" id="comment_item_4544055"><dt class="comment_head" floor="2">2楼 <span class="user"><a class="username" href="http://blog.csdn.net/qq_15372937" target="_blank">qq_15372937</a> <span class="ptime">2014-11-24 18:08发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4544055" username="qq_15372937"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/qq_15372937" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_qq_15372937.jpg" width="40" height="40"></a></dd><dd class="comment_body">爱哥，我爱你.</dd></dl><dl class="comment_item comment_topic" id="comment_item_4543999"><dt class="comment_head" floor="1">1楼 <span class="user"><a class="username" href="http://blog.csdn.net/u013039854" target="_blank">月下旋风</a> <span class="ptime">2014-11-24 17:57发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4543999" username="u013039854"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/u013039854" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_u013039854.jpg" width="40" height="40"></a></dd><dd class="comment_body">爱哥，你去卖鸭我肯定第一个去支持你</dd><dl class="comment_item comment_reply" id="comment_item_4544609"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/aigestudio" target="_blank">AigeStudio</a> <span class="ptime">2014-11-24 20:36发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4544609" username="aigestudio"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/aigestudio" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_aigestudio.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复u013039854：你母的？ = =</dd><dl class="comment_item comment_reply" id="comment_item_4746481"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/sunweijie1234" target="_blank">sunweijie1234</a> <span class="ptime">2015-01-28 12:08发表</span>  <a href="http://blog.csdn.net/aigestudio/article/details/41447349#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="4746481" username="sunweijie1234"> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="http://blog.csdn.net/aigestudio/article/details/41447349#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/sunweijie1234" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/3_sunweijie1234.jpg" width="40" height="40"></a></dd><dd class="comment_body">回复aigestudio：他基的</dd></dl></dl></dl><div class="clear"></div></div>
    <div id="comment_bar" style="display: none;">
    </div>
    <div id="comment_form"><div class="guest_link">您还没有登录,请<a href="javascript:void(0);" onclick="javascript:loginbox();">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Faigestudio%2Farticle%2Fdetails%2F41447349">[注册]</a></div></div>
    <div class="announce">
        * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
</div>

<script type="text/javascript">
    var fileName = '41447349';
    var commentscount = 38;
    var islock = false
</script>
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/comment.js"></script>
    <div id="ad_bot">
    </div>
<div id="report_dialog">
</div>

<div id="d-top" style="bottom:60px;">
        <a id="quick-reply" class="btn btn-top q-reply" title="快速回复" style="display:none;">
            <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/blog-icon-reply.png" alt="快速回复">
        </a>    

    <a id="d-top-a" class="btn btn-top backtop" style="display: none;" title="返回顶部" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_huidaodingbu&#39;])">         
         <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/top.png" alt="TOP">
    </a>
</div>
<script type="text/javascript">
    $(function ()
    {
        $("#ad_frm_0").height("90px");
        
        setTimeout(function(){
            $("#ad_frm_2").height("200px");
        },1000);    
    });
  
</script>
<style type="text/css">
    .tag_list
    {
        background: none repeat scroll 0 0 #FFFFFF;
        border: 1px solid #D7CBC1;
        color: #000000;
        font-size: 12px;
        line-height: 20px;
        list-style: none outside none;
        margin: 10px 2% 0 1%;
        padding: 1px;
    }
    .tag_list h5
    {
        background: none repeat scroll 0 0 #E0DBD3;
        color: #47381C;
        font-size: 12px;
        height: 24px;
        line-height: 24px;
        padding: 0 5px;
        margin: 0;
    }
    .tag_list h5 a
    {
        color: #47381C;
    }
    .classify
    {
        margin: 10px 0;
        padding: 4px 12px 8px;
    }
    .classify a
    {
        margin-right: 20px;
        white-space: nowrap;
    }
</style>


<div class="tag_list" style="">

    <h5>
        <a href="http://www.csdn.net/tag/" target="_blank">核心技术类目</a></h5>
    <div class="classify">
<a title="全部主题" href="http://www.csdn.net/tag" target="_blank" onclick="LogClickCount(this,336);">全部主题</a>
<a title="Hadoop" href="http://g.csdn.net/5272865" target="_blank" onclick="LogClickCount(this,336);">Hadoop</a>
<a title="AWS" href="http://g.csdn.net/5272866" target="_blank" onclick="LogClickCount(this,336);">AWS</a>
<a title="移动游戏" href="http://g.csdn.net/5272870" target="_blank" onclick="LogClickCount(this,336);">移动游戏</a>
<a title="Java" href="http://g.csdn.net/5272871" target="_blank" onclick="LogClickCount(this,336);">Java</a>
<a title="Android" href="http://g.csdn.net/5272872" target="_blank" onclick="LogClickCount(this,336);">Android</a>
<a title="iOS" href="http://g.csdn.net/5272873" target="_blank" onclick="LogClickCount(this,336);">iOS</a>
<a title="Swift" href="http://g.csdn.net/5272868" target="_blank" onclick="LogClickCount(this,336);">Swift</a>
<a title="智能硬件" href="http://g.csdn.net/5272869" target="_blank" onclick="LogClickCount(this,336);">智能硬件</a>
<a title="Docker" href="http://g.csdn.net/5272867" target="_blank" onclick="LogClickCount(this,336);">Docker</a>
<a title="OpenStack" href="http://g.csdn.net/5272925" target="_blank" onclick="LogClickCount(this,336);">OpenStack</a>
<a title="VPN" href="http://www.csdn.net/tag/vpn" target="_blank" onclick="LogClickCount(this,336);">VPN</a>
<a title="Spark" href="http://g.csdn.net/5272924" target="_blank" onclick="LogClickCount(this,336);">Spark</a>
<a title="ERP" href="http://www.csdn.net/tag/erp" target="_blank" onclick="LogClickCount(this,336);">ERP</a>
<a title="IE10" href="http://www.csdn.net/tag/ie10" target="_blank" onclick="LogClickCount(this,336);">IE10</a>
<a title="Eclipse" href="http://www.csdn.net/tag/eclipse" target="_blank" onclick="LogClickCount(this,336);">Eclipse</a>
<a title="CRM" href="http://www.csdn.net/tag/crm" target="_blank" onclick="LogClickCount(this,336);">CRM</a>
<a title="JavaScript" href="http://www.csdn.net/tag/javascript" target="_blank" onclick="LogClickCount(this,336);">JavaScript</a>
<a title="数据库" href="http://www.csdn.net/tag/%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank" onclick="LogClickCount(this,336);">数据库</a>
<a title="Ubuntu" href="http://www.csdn.net/tag/ubuntu" target="_blank" onclick="LogClickCount(this,336);">Ubuntu</a>
<a title="NFC" href="http://www.csdn.net/tag/nfc" target="_blank" onclick="LogClickCount(this,336);">NFC</a>
<a title="WAP" href="http://www.csdn.net/tag/wap" target="_blank" onclick="LogClickCount(this,336);">WAP</a>
<a title="jQuery" href="http://www.csdn.net/tag/jquery" target="_blank" onclick="LogClickCount(this,336);">jQuery</a>
<a title="BI" href="http://www.csdn.net/tag/bi" target="_blank" onclick="LogClickCount(this,336);">BI</a>
<a title="HTML5" href="http://www.csdn.net/tag/html5" target="_blank" onclick="LogClickCount(this,336);">HTML5</a>
<a title="Spring" href="http://www.csdn.net/tag/spring" target="_blank" onclick="LogClickCount(this,336);">Spring</a>
<a title="Apache" href="http://www.csdn.net/tag/apache" target="_blank" onclick="LogClickCount(this,336);">Apache</a>
<a title=".NET" href="http://www.csdn.net/tag/.net" target="_blank" onclick="LogClickCount(this,336);">.NET</a>
<a title="API" href="http://www.csdn.net/tag/api" target="_blank" onclick="LogClickCount(this,336);">API</a>
<a title="HTML" href="http://www.csdn.net/tag/html" target="_blank" onclick="LogClickCount(this,336);">HTML</a>
<a title="SDK" href="http://www.csdn.net/tag/sdk" target="_blank" onclick="LogClickCount(this,336);">SDK</a>
<a title="IIS" href="http://www.csdn.net/tag/iis" target="_blank" onclick="LogClickCount(this,336);">IIS</a>
<a title="Fedora" href="http://www.csdn.net/tag/fedora" target="_blank" onclick="LogClickCount(this,336);">Fedora</a>
<a title="XML" href="http://www.csdn.net/tag/xml" target="_blank" onclick="LogClickCount(this,336);">XML</a>
<a title="LBS" href="http://www.csdn.net/tag/lbs" target="_blank" onclick="LogClickCount(this,336);">LBS</a>
<a title="Unity" href="http://www.csdn.net/tag/unity" target="_blank" onclick="LogClickCount(this,336);">Unity</a>
<a title="Splashtop" href="http://www.csdn.net/tag/splashtop" target="_blank" onclick="LogClickCount(this,336);">Splashtop</a>
<a title="UML" href="http://www.csdn.net/tag/uml" target="_blank" onclick="LogClickCount(this,336);">UML</a>
<a title="components" href="http://www.csdn.net/tag/components" target="_blank" onclick="LogClickCount(this,336);">components</a>
<a title="Windows Mobile" href="http://www.csdn.net/tag/windowsmobile" target="_blank" onclick="LogClickCount(this,336);">Windows Mobile</a>
<a title="Rails" href="http://www.csdn.net/tag/rails" target="_blank" onclick="LogClickCount(this,336);">Rails</a>
<a title="QEMU" href="http://www.csdn.net/tag/qemu" target="_blank" onclick="LogClickCount(this,336);">QEMU</a>
<a title="KDE" href="http://www.csdn.net/tag/kde" target="_blank" onclick="LogClickCount(this,336);">KDE</a>
<a title="Cassandra" href="http://www.csdn.net/tag/cassandra" target="_blank" onclick="LogClickCount(this,336);">Cassandra</a>
<a title="CloudStack" href="http://www.csdn.net/tag/cloudstack" target="_blank" onclick="LogClickCount(this,336);">CloudStack</a>
<a title="FTC" href="http://www.csdn.net/tag/ftc" target="_blank" onclick="LogClickCount(this,336);">FTC</a>
<a title="coremail" href="http://www.csdn.net/tag/coremail" target="_blank" onclick="LogClickCount(this,336);">coremail</a>
<a title="OPhone " href="http://www.csdn.net/tag/ophone" target="_blank" onclick="LogClickCount(this,336);">OPhone </a>
<a title="CouchBase" href="http://www.csdn.net/tag/couchbase" target="_blank" onclick="LogClickCount(this,336);">CouchBase</a>
<a title="云计算" href="http://www.csdn.net/tag/%E4%BA%91%E8%AE%A1%E7%AE%97" target="_blank" onclick="LogClickCount(this,336);">云计算</a>
<a title="iOS6" href="http://www.csdn.net/tag/iOS6" target="_blank" onclick="LogClickCount(this,336);">iOS6</a>
<a title="Rackspace " href="http://www.csdn.net/tag/rackspace" target="_blank" onclick="LogClickCount(this,336);">Rackspace </a>
<a title="Web App" href="http://www.csdn.net/tag/webapp" target="_blank" onclick="LogClickCount(this,336);">Web App</a>
<a title="SpringSide" href="http://www.csdn.net/tag/springside" target="_blank" onclick="LogClickCount(this,336);">SpringSide</a>
<a title="Maemo" href="http://www.csdn.net/tag/maemo" target="_blank" onclick="LogClickCount(this,336);">Maemo</a>
<a title="Compuware" href="http://www.csdn.net/tag/compuware" target="_blank" onclick="LogClickCount(this,336);">Compuware</a>
<a title="大数据" href="http://www.csdn.net/tag/%E5%A4%A7%E6%95%B0%E6%8D%AE" target="_blank" onclick="LogClickCount(this,336);">大数据</a>
<a title="aptech" href="http://www.csdn.net/tag/aptech" target="_blank" onclick="LogClickCount(this,336);">aptech</a>
<a title="Perl" href="http://www.csdn.net/tag/perl" target="_blank" onclick="LogClickCount(this,336);">Perl</a>
<a title="Tornado" href="http://www.csdn.net/tag/tornado" target="_blank" onclick="LogClickCount(this,336);">Tornado</a>
<a title="Ruby" href="http://www.csdn.net/tag/ruby" target="_blank" onclick="LogClickCount(this,336);">Ruby</a>
<a title="Hibernate" href="http://www.csdn.net/hibernate" target="_blank" onclick="LogClickCount(this,336);">Hibernate</a>
<a title="ThinkPHP" href="http://www.csdn.net/tag/thinkphp" target="_blank" onclick="LogClickCount(this,336);">ThinkPHP</a>
<a title="HBase" href="http://www.csdn.net/tag/hbase" target="_blank" onclick="LogClickCount(this,336);">HBase</a>
<a title="Pure" href="http://www.csdn.net/tag/pure" target="_blank" onclick="LogClickCount(this,336);">Pure</a>
<a title="Solr" href="http://www.csdn.net/tag/solr" target="_blank" onclick="LogClickCount(this,336);">Solr</a>
<a title="Angular" href="http://www.csdn.net/tag/angular" target="_blank" onclick="LogClickCount(this,336);">Angular</a>
<a title="Cloud Foundry" href="http://www.csdn.net/tag/cloudfoundry" target="_blank" onclick="LogClickCount(this,336);">Cloud Foundry</a>
<a title="Redis" href="http://www.csdn.net/tag/redis" target="_blank" onclick="LogClickCount(this,336);">Redis</a>
<a title="Scala" href="http://www.csdn.net/tag/scala" target="_blank" onclick="LogClickCount(this,336);">Scala</a>
<a title="Django" href="http://www.csdn.net/tag/django" target="_blank" onclick="LogClickCount(this,336);">Django</a>
<a title="Bootstrap" href="http://www.csdn.net/tag/bootstrap" target="_blank" onclick="LogClickCount(this,336);">Bootstrap</a>
    </div>

</div>
  <script language="javascript" type="text/javascript">     
      $(function(){
              setTimeout(function(){
                  $.get("/aigestudio/svc/GetTagContent",function(data){
                      $(".tag_list").html(data).show();
                  });     
              });
          },500);                       
 </script> 


<div id="pop_win" style="display:none ;position: absolute; z-index: 10000; border: 1px solid rgb(220, 220, 220); top: 222.5px; left: 630px; opacity: 1; background: none 0px 0px repeat scroll rgb(255, 255, 255);">
    
</div>
<div id="popup_mask"></div>
<style>
    #popup_mask
    {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 9999;
        left: 0px;
        top: 0px;
        opacity: 0.3;
        filter: alpha(opacity=30);
        display: none;
    }

</style>




<script type="text/javascript">
    $(function(){
        setTimeout(function(){
            $(".comment_body:contains('回复')").each(function(index,item){
                var u=$(this).text().split('：')[0].toString().replace("回复","")
                var thisComment=$(this);
                if(u)
                {
                    $.getJSON("https://passport.csdn.net/get/nick?callback=?", {users: u}, function(a) {
                        if(a!=null&&a.data!=null&&a.data.length>0)
                        {
                            nick=a.data[0].n; 
                            if(u!=nick)
                            {
                                thisComment.text(thisComment.text().replace(u,nick));  
                            }
                        }       
                    });  
                }
            });
        },200);  
        
        setTimeout(function(){
            $("a img[src='http://js.tongji.linezing.com/stats.gif']").parent().css({"position":"absolute","left":"50%"});
        },300);
    });

    function loginbox(){
        var $logpop=$("#pop_win");
        $logpop.html('<iframe src="https://passport.csdn.net/account/loginbox?service=http://static.blog.csdn.net/callback.htm" frameborder="0" height="600" width="400" scrolling="no"></iframe>');

        $('#popup_mask').css({
            opacity: 0.5,
            width: $( document ).width() + 'px',
            height:  $( document ).height() + 'px'
        });
        $('#popup_mask').css("display","block");
 
        $logpop.css( {
            top: ($( window ).height() - $logpop.height())/ 2  + $( window 
       ).scrollTop() + 'px',
            left:($( window ).width() - $logpop.width())/ 2
        } );
 
        setTimeout( function () {
            $logpop.show();
            $logpop.css( {
                opacity: 1
            } );
        }, 200 );
 
        $('#popup_mask').unbind("click");
        $('#popup_mask').bind("click", function(){
            $('#popup_mask').hide();
            var $clopop = $("#pop_win");
            $("#common_ask_div_sc").css("display","none");
            $clopop.css( {
                opacity: 0
            } );
            setTimeout( function () {
                $clopop.hide();
            }, 350 );
            return false;
        });
    }    

</script>
                        <div class="clear">
                        </div>
                    </div>                   
                
            </div>
                   
           <div id="side">
    <div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/aigestudio" target="_blank">
    <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/1_aigestudio.jpg" title="访问我的空间" style="max-width:90%">
    </a>
    <br>
    <span><a href="http://my.csdn.net/aigestudio" class="user_name" target="_blank">AigeStudio</a></span>
</div>
<div class="interact">

    <a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>

 <a href="javascript:void(0);" class="letter" title="[发私信]" onclick="window.open(&#39;http://msg.csdn.net/letters/model?receiver=aigestudio&#39;,&#39;_blank&#39;,&#39;height=350,width=700&#39;);_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_sixin&#39;])"></a>  
</div>
<div id="blog_medal">
                       <div class="ico_expert" onclick="javascript:location=&#39;http://blog.csdn.net/experts/rule.html&#39;" title="CSDN认证专家" style="cursor:pointer;width:60px;height:60px;background:url(&#39;http://c.csdnimg.cn/jifen/images/xunzhang/xunzhang/bokezhuanjiamiddle.png&#39;) no-repeat"></div>
                <div id="bms_box">
                                            <a target="_blank">
                                                    <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/zhuanlandaren.png" onmouseover="m_over_m(this,2)" onmouseout="m_out_m()" alt="1">
                                            </a>
                                            <a target="_blank">
                                                    <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/chizhiyiheng.png" onmouseover="m_over_m(this,4)" onmouseout="m_out_m()" alt="2">
                                            </a>
               </div>
</div>
<ul id="blog_rank">
    <li>访问：<span>204583次</span></li>
    <li>积分：<span>3024</span> </li>    
    <li>等级： <span style="position:relative;display:inline-block;z-index:1">
            <img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/blog5.png" alt="" style="vertical-align: middle;" id="leveImg">
            <div id="smallTittle" style=" position: absolute;  left: -24px;  top: 25px;  text-align: center;  width: 101px;  height: 32px;  background-color: #fff;  line-height: 32px;  border: 2px #DDDDDD solid;  box-shadow: 0px 2px 2px rgba (0,0,0,0.1);  display: none;   z-index: 999;">
            <div style="left: 42%;  top: -8px;  position: absolute;  width: 0;  height: 0;  border-left: 10px solid transparent;  border-right: 10px solid transparent;  border-bottom: 8px solid #EAEAEA;"></div>
            积分：3024 </div>
        </span>  </li>
    <li>排名：<span>第6554名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>22篇</span></li>
    <li>转载：<span>0篇</span></li>
    <li>译文：<span>0篇</span></li>
    <li>评论：<span>976条</span></li>
</ul>
</ul>
</div>




<div id="custom_column_37905613" class="panel">
<ul class="panel_head"><span>专注用户体验视觉效果数二十载</span></ul>
<ul class="panel_body">

<p align="center">你可以通过以下方式找到我</p>
<p align="center">QQ:1994099479</p>
<br>
<p align="center">那些Coder大咖们</p>
<p align="center"><a href="http://coderrobin.com/">CoderRobin</a></p>

</ul>
</div><div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字"></span>
        <input id="btnSubmit" type="button" value="搜索" title="search in blog">
        <input type="hidden" name="q" id="inputQ">
        <input type="hidden" name="t" value="blog">
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div>

<script type="text/javascript">
    $(function () {
        $("#btnSubmit").click(function () {           
            search();
        });

        $("#frmSearch").submit(function () {
            search();
            return false;
        });

        function search()
        {
            var url = "http://so.csdn.net/so/search/s.do?q=" + encodeURIComponent($("#inputSearch").val()) + "&u=" + username + "&t=blog";
            window.location.href = url;
        }   
    });
</script>

<div id="custom_column_37748887" class="panel">
<ul class="panel_head"><span>开源项目</span></ul>
<ul class="panel_body">

<table border="0" align="center">
<tbody>
<tr>
<td>
<p align="center"><a href="https://github.com/AigeStudio/DatePicker"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20150306102156585.jpg" style="width:50px; height:50px">
</a></p>
<br>
<p align="left"><a href="https://github.com/AigeStudio/DatePicker"><font size="2px">DatePicker
</font></a></p>
</td>
<td>
<p align="center"><a href="https://github.com/AigeStudio"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20150306102156585.jpg" style="width:50px; height:50px">
</a></p>
<br>
<p align="center"><a href="https://github.com/AigeStudio"><font size="2px">LabelView
</font></a></p>
</td>
</tr>
<tr>
<td>
<p align="center"><a href="https://github.com/AigeStudio"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20150306102156585.jpg" style="width:50px; height:50px">
</a></p>
<br>
<p align="left"><a href="https://github.com/AigeStudio"><font size="2px">SmartSlide
</font></a></p>
</td>
<td>
<p align="center"><a href="https://github.com/AigeStudio"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20150306102156585.jpg" style="width:50px; height:50px">
</a></p>
<br>
<p align="center"><a href="https://github.com/AigeStudio"><font size="2px">Cacher
</font></a></p>
</td>
</tr>
<tr>
<td>
<p align="center"><a href="https://github.com/AigeStudio"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20150306102156585.jpg" style="width:50px; height:50px">
</a></p>
<br>
<p align="left"><a href="https://github.com/AigeStudio/MultiThreadDownloader"><font size="2px">Downloader
</font></a></p>
</td>
</tr>
</tbody>
</table>

</ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>博客专栏</span></ul>
    <ul class="panel_body" id="sp_column">
    <table cellpadding="0" cellspacing="0"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/androidviews.html" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20151123180406067" style="width:75px;height:75px;"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/androidviews.html" target="_blank">Android控件解析</a>
    <p>文章：2篇</p>
    <span>阅读：10258</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/androideventdispatch.html" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20151123180221849" style="width:75px;height:75px;"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/androideventdispatch.html" target="_blank">Android事件分发完全解析</a>
    <p>文章：2篇</p>
    <span>阅读：12186</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/androidcustomview.html" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/20151123180135661" style="width:75px;height:75px;"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/androidcustomview.html" target="_blank">Android自定义控件其实很简单</a>
    <p>文章：9篇</p>
    <span>阅读：122881</span>
    </td>
    </tr></tbody></table>
    </ul>
</div>    </div>
    <div class="clear">
    </div>
 </div>   
            <div class="clear">
            </div>
        </div>
        

<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/cnick.js"></script>
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/newblog.min.js"></script>


<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/showblogmedal.ashx"></script>
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/JavaScript1.js"></script><link rel="stylesheet" type="text/css" href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/pub_footer_2014.css"><div class="pub_fo"><div id="pub_footerall" class="pub_footer_new"><dl><dt></dt> <dd class="foot_sub_menu"><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a><span>|</span><a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a><span>|</span><a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a><span>|</span><a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a><span>|</span><a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a><span>|</span><a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a><span>|</span><a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a><span>|</span><a href="mailto:webmaster@csdn.net">问题报告</a><span>|</span><a target="_blank" href="http://www.csdn.net/friendlink.html">合作伙伴</a><span>|</span><a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a></dd><dd class="foot_contact"><a href="http://wpa.qq.com/msgrd?v=3&uin=2355263776&site=qq&menu=yes" target="_blank" class="qq">网站客服</a><a href="http://wpa.qq.com/msgrd?v=3&uin=2251809102&site=qq&menu=yes" target="_blank" class="qq">杂志客服</a><a href="http://e.weibo.com/csdnsupport/profile" target="_blank" class="weibo">微博客服</a><a href="mailto:webmaster@csdn.net" class="email" title="联系邮箱">webmaster@csdn.net</a><span class="phone" title="服务热线">400-600-2320</span><span class="interval">|</span><span>北京创新乐知信息技术有限公司 版权所有</span><span class="interval">|</span><span>江苏乐知网络技术有限公司 提供商务支持</span></dd><dd class="foot_copyright"><span>京&nbsp;ICP&nbsp;证&nbsp;09002463&nbsp;号</span><span class="interval">|</span><span>Copyright © 1999-2014, CSDN.NET, All Rights Reserved&nbsp;</span><a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/gongshang_logos.gif" alt="GongshangLogo" title=""></a></dd></dl></div></div><div id="note1" class="csdn_note" style="display:none; position:absolute; z-index:9999; width:440px">  <span class="notice_top_arrow"><span class="inner"></span></span>  <div class="box"></div></div><div class="csdn_notice_tip" style="display: none; position: absolute; z-index: 9990; width: 170px;">  <iframe src="about:blank" frameborder="0" scrolling="no" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent"></iframe>  <div class="tip_text">您有<strong>0</strong>条新通知</div>  <a href="javascript:void 0" class="close2"></a></div><script id="noticeScript" type="text/javascript" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/notify.js"></script>

    <script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/login.js"></script>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script><img src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/pv.aspx" border="0" width="0" height="0">
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/counter.js"></script><script type="text/javascript" charset="UTF-8" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/msg.popup.js"></script>
<script type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ad-blog.js"></script>
<script type="text/javascript">
    $(function () {
        function __get_code_toolbar(snippet_id) {
            return $("<a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "' target='_blank' title='在CODE上查看代码片' style='text-indent:0;'><img src='https://code.csdn.net/assets/CODE_ico.png' width=12 height=12 alt='在CODE上查看代码片' style='position:relative;top:1px;left:2px;'/></a>"
                    + "<a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "/fork' target='_blank' title='派生到我的代码片'  style='text-indent:0;'><img src='https://code.csdn.net/assets/ico_fork.svg' width=12 height=12 alt='派生到我的代码片' style='position:relative;top:2px;left:2px;'/></a>");
        }
        
        $("[code_snippet_id]").each(function () {
            __s_id = $(this).attr("code_snippet_id");
            if (__s_id != null && __s_id != "" && __s_id != 0 && parseInt(__s_id) > 70020) {
                __code_tool = __get_code_toolbar(__s_id);
                $(this).prev().find(".tools").append(__code_tool);
            }
        });

        $(".bar").show();
    });
</script>




    </div><input type="hidden" id="aa_g_data_ids">
      <!--new top-->
    
    <script id="csdn-toolbar-id" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/toolbar.js"></script>
     <!--new top-->
   
    <link href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ask_float_block.css" type="text/css" rel="stylesheet">
    <script language="JavaScript" type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/wmd.js"></script>
    <script language="JavaScript" type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/showdown.js"></script>
    <script language="JavaScript" type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/prettify.js"></script>
    <script language="JavaScript" type="text/javascript" src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ask_float_block.js"></script>
   

   
 <div id="tag-suggest-pop">
  <div class="relative">
    <div class="close"></div>
    <div class="content"></div>
  </div>
</div><link rel="stylesheet" type="text/css" media="screen" href="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/ask_float_fonts_css-6b30a53970eb5c3a2a045e3df585b475.css"><div data-mod="popu_64" class="tracking-ad" chg-blk="0"><a id="com-appcode-float-block" href="http://www.csdn.net/app/" target="_blank" title="APP二维码" style="top:87px"><span id="appcode-close"></span></a><a id="com-app-float-block" href="http://www.csdn.net/app/" title="APP下载" style="top:171px"></a><a id="com-quick-reply" title="快速回复" style="top:209px"></a><a id="com-d-top-a" style="top:247px" title="返回顶部" onclick=""></a> </div><div class="pop_edit ask_second comm_ask_second"><h3>提问</h3><span class="ask_float_span">您的问题将会被发布在“<a class="ask_float_channel" href="http://ask.csdn.net/" target="_blank" style="cursor:pointer">技术问答</a>”频道</span><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" nodetype="close" class="close">×</a><div class="context"><div class="err_div"><span class="err_ico"></span><span class="err_txt">该问题已存在，请勿重复提问</span></div><div class="input_div"><input id="askInputSecond" type="text" style="font-size:14px;" placeholder="问题标题"></div><div class="cm_box"><div class="cm_dialog"></div> <div class="pop_cm cm_add_link"><input type="text" placeholder="链接内容" id="af_cm_link_txt"><input type="text" placeholder="链接地址" id="af_cm_link_url"><input type="text" placeholder="链接提示" id="af_cm_link_tit"><div class="text-right"><span class="btn btn-default btn-sm" id="add_link_btn">插入链接</span> </div> </div><div class="pop_cm cm_add_img"><div class="nav-tabs"><a class="img_tab active" href="http://blog.csdn.net/aigestudio/article/details/41447349#tab_upload">本地上传</a><a class="img_tab" href="http://blog.csdn.net/aigestudio/article/details/41447349#tab_weburl">网络图片</a></div><div class="tab_panel active" id="tab_upload"><div class="set_img"><iframe src="./自定义控件其实很简单1 4 - AigeStudio - 博客频道 - CSDN.NET_files/upload.html"></iframe></div></div><div class="tab_panel" id="tab_weburl"><input type="text" placeholder="图片地址" id="af_cm_img_url"><input type="text" placeholder="图片说明" id="af_cm_img_alt"><div class="text-right"><span class="btn btn-default btn-sm" id="add_img_btn">插入图片</span> </div></div> </div></div> <textarea id="editor_all" rows="8" style="display: none;"></textarea><div class="editor-toolbar"><i class="separator">|</i><a class="icon-headline" title="标题一（Ctrl+Alt+1）"></a><a class="icon-heading" title="标题二（Ctrl+Alt+2）"></a><a class="icon-bold" title="粗体（Ctrl+B）"></a><a class="icon-italic" title="斜体（Ctrl+I）"></a><i class="separator">|</i><a class="icon-quote-left" title="引用（Ctrl+’）"></a><a class="icon-code" title="插入代码片（Ctrl+,）"></a><a class="icon-list-ul" title="无序列表（Ctrl+L）"></a><a class="icon-list-ol" title="有序列表（Ctrl+Alt+L）"></a><i class="separator">|</i><a class="icon-link" title="添加链接（Ctrl+K）"></a><a class="icon-picture" title="添加图片（Ctrl+Alt+I）"></a><i class="separator">|</i><a class="icon-reply" title="撤退（Ctrl+Z）"></a><a class="icon-share-alt" title="前进（Ctrl+Shift+Z）"></a><i class="separator">|</i><a class="icon-info" href="http://ask.csdn.net/pages/markdown" target="_blank" title="markdown语法参考"></a><a class="icon-preview" title="预览"></a><i class="separator">|</i></div><div class="CodeMirror cm-s-paper CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none; font-size: 4px;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar"><div style="height: 1px;"></div></div><div class="CodeMirror-vscrollbar"><div style="width: 1px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="min-width: 33px;"><div style="position: relative;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>&nbsp;<span style="display: inline-block; width: 1px; margin-right: -1px;">&nbsp;</span></pre></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"></div><div class="CodeMirror-cursor" style="visibility: hidden;">&nbsp;</div><div class="CodeMirror-cursor CodeMirror-secondarycursor" style="visibility: hidden;">&nbsp;</div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px;"></div><div class="CodeMirror-gutters" style="display: none;"></div></div></div><div class="editor-statusbar"><span class="lines">0</span><span class="words">0</span><span class="cursor">0:0</span></div><div class="div_tags clearfix"><div id="divSearchTags" class="tags_con"><input type="text"></div><input type="hidden" name="txtSearchTags"></div><div id="ask2_tagRecomm_div" class="drt_tagRecomm tracking-ad" data-mod="popu_73"><span class="drt_tit">推荐标签：</span></div></div><div class="success"><div class="left_area"><input id="chk_cb" type="checkbox"><span class="wyxs">我要悬赏</span><input id="cb_num" class="cb_num" readonly="true"><span class="phib_rii"><span> 币</span></span></div><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" nodetype="cancel" class="cancel">取消</a><a href="http://blog.csdn.net/aigestudio/article/details/41447349#" nodetype="ok" class="ok">发布</a></div></div><div id="common_ask_div_sc" class="searchContainer"><div class="sTitle">可能存在类似的问题：</div><div class="sFooter"><a class="sFirstNewAsk">我想提一个新问题</a></div></div></body></html>